--[[
    MASSIVE Early Life Events Expansion (Ages 0-17)
    300+ new events with BitLife-style RANDOMIZED outcomes
    NO guaranteed outcomes - life is unpredictable!
    
    CRITICAL: All events use onResolve with math.random() for variety
]]

local EarlyLifeEvents = {}

EarlyLifeEvents.events = {
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- BABY YEARS (0-2) - Life's earliest moments
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "baby_personality_emerging",
		title = "Personality Developing",
		emoji = "ğŸ‘¶",
		-- CRITICAL FIX #VARIETY-2: Text variations for replayability
		textVariants = {
			"Your parents notice you're developing your own little personality!",
			"Everyone says you're becoming your own little person!",
			"Your unique personality is starting to show!",
			"Grandma says you remind her of someone - you're developing character!",
			"Your caregivers notice distinct traits emerging in you!",
		},
		text = "Your parents notice you're developing your own little personality!",
		question = "What kind of baby are you?",
		minAge = 0, maxAge = 1,
		baseChance = 0.55, -- CRITICAL FIX: Reduced from 0.8
		cooldown = 3, -- CRITICAL FIX: Increased
		oneTime = true, -- Only happens once per life
		category = "childhood",
		tags = { "baby", "personality", "milestone" },
		blockedByFlags = { personality_set = true },
		
		choices = {
			{
				text = "A happy, smiley baby",
				effects = {},
				feedText = "You smile at everyone...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 70 then
						state:ModifyStat("Happiness", 5)
						state.Flags.happy_disposition = true
						state:AddFeed("ğŸ‘¶ You're such a happy baby! Everyone loves your smile!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ‘¶ You have your moments of happiness and fussiness.")
					end
				end,
			},
			{
				text = "A curious, alert baby",
				effects = {},
				feedText = "Your eyes follow everything...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 60 then
						state:ModifyStat("Smarts", 3)
						state.Flags.naturally_curious = true
						state:AddFeed("ğŸ‘¶ You're incredibly curious! Always looking around and exploring.")
					else
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ‘¶ You take in the world around you at your own pace.")
					end
				end,
			},
			{
				text = "A calm, easy-going baby",
				effects = {},
				feedText = "You rarely fuss...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Health", 3)
						state.Flags.calm_temperament = true
						state:AddFeed("ğŸ‘¶ You're the easiest baby! Rarely cry, sleep well. Parents are blessed.")
					else
						state:ModifyStat("Health", 1)
						state:AddFeed("ğŸ‘¶ You're pretty calm, with occasional fussy moments.")
					end
				end,
			},
		},
	},
	{
		id = "baby_doctor_visit",
		title = "Doctor's Checkup",
		emoji = "ğŸ¥",
		-- CRITICAL FIX #VARIETY-3: Text variations for different phrasing
		textVariants = {
			"Time for your routine baby checkup at the doctor's office!",
			"Mom takes you to the pediatrician for your regular checkup!",
			"The doctor wants to see how you're growing!",
			"It's time for your wellness visit!",
			"Your parents bring you in for your scheduled doctor appointment!",
		},
		text = "Time for your routine baby checkup at the doctor's office!",
		question = "How does it go?",
		minAge = 0, maxAge = 2,
		baseChance = 0.5, -- CRITICAL FIX: Reduced to prevent spam
		cooldown = 2, -- CRITICAL FIX: Increased cooldown
		
		choices = {
			{
				text = "Get your shots",
				effects = {},
				feedText = "The needle approaches...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Health", 4)
						state:AddFeed("ğŸ¥ You barely cried! Doctor says you're perfectly healthy!")
					elseif roll <= 80 then
						state:ModifyStat("Health", 2)
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ¥ You screamed bloody murder, but you're healthy!")
					else
						state:ModifyStat("Health", 1)
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ¥ You had a slight reaction to the vaccine. Minor fever, but recovered.")
					end
				end,
			},
		},
	},
	{
		id = "baby_sibling_arrival",
		title = "New Sibling!",
		emoji = "ğŸ‘¶",
		text = "Your parents brought home a new baby sibling!",
		question = "How do you react to the new baby?",
		minAge = 1, maxAge = 4,
		oneTime = true,
		baseChance = 0.4,
		
		choices = {
			{
				text = "Try to be a good big sibling",
				effects = {},
				feedText = "You approach the baby...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 5)
						state.Flags.protective_sibling = true
						state:AddFeed("ğŸ‘¶ You love your new sibling! You always want to help!")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ‘¶ You're getting used to having a sibling. It's an adjustment.")
					else
						state:ModifyStat("Happiness", -3)
						state.Flags.sibling_jealousy = true
						state:AddFeed("ğŸ‘¶ You're jealous of all the attention the baby gets...")
					end
				end,
			},
			{
				text = "Feel confused about the change",
				effects = {},
				feedText = "Your world just changed...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ‘¶ It took a while, but you eventually bonded with your sibling.")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ‘¶ You feel less special now. Why do babies need so much attention?")
					end
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- TODDLER YEARS (2-4) - Exploring the world
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "toddler_playground_adventure",
		title = "Playground Adventure",
		emoji = "ğŸ›",
		text = "Your parents took you to the playground! So many things to explore!",
		question = "What do you want to do?",
		minAge = 2, maxAge = 5,
		baseChance = 0.5, -- FIXED: Lowered from 0.8 to reduce spam
		cooldown = 3, -- FIXED: Increased from 1 to reduce spam
		
		choices = {
			{
				text = "Try the big slide",
				effects = {},
				feedText = "You climb up the tall stairs...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Health", 1)
						state.Flags.brave_kid = true
						state:AddFeed("ğŸ› WHEEE! That was amazing! You want to go again!")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ› It was scary but fun! Your parents were so proud!")
					else
						state:ModifyStat("Happiness", -3)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸ› You fell off! Got a scrape and cried, but you're okay.")
					end
				end,
			},
			{
				text = "Play in the sandbox",
				effects = {},
				feedText = "You sit in the sand...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 4)
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ› You built an amazing sandcastle! Well... you tried!")
					elseif roll <= 90 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ› You got sand EVERYWHERE but had so much fun!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ› Another kid threw sand in your face. You cried.")
					end
				end,
			},
			{
				text = "Try the swings",
				effects = {},
				feedText = "Your parents push you...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ› Higher! HIGHER! You love swinging!")
					else
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ› It was fun for a bit, but you got bored.")
					end
				end,
			},
			{
				text = "Make friends with other kids",
				effects = {},
				feedText = "You approach another toddler...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Happiness", 6)
						state.Flags.makes_friends_easily = true
						state:AddFeed("ğŸ› You made a new friend! You played together the whole time!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ› You played together for a bit. Toddler friendships are fleeting.")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ› The other kid didn't want to play. Rejection hurts even at 3.")
					end
				end,
			},
		},
	},
	{
		id = "toddler_potty_training",
		title = "Potty Training",
		emoji = "ğŸš½",
		text = "Your parents are trying to teach you to use the potty!",
		question = "How's the training going?",
		minAge = 2, maxAge = 4,
		oneTime = true,
		isMilestone = true,
		
		choices = {
			{
				text = "Try your best",
				effects = {},
				feedText = "You sit on the little potty...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Smarts", 3)
						state:ModifyStat("Happiness", 4)
						state.Flags.potty_trained_early = true
						state:AddFeed("ğŸš½ You got it! Potty trained like a champ! No more diapers!")
					elseif roll <= 75 then
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸš½ Some accidents, but you're getting there. Progress!")
					else
						state:ModifyStat("Happiness", -2)
						state.Flags.potty_training_struggles = true
						state:AddFeed("ğŸš½ It's been rough. Lots of accidents. Your parents are patient.")
					end
				end,
			},
		},
	},
	{
		id = "toddler_cartoon_obsession",
		title = "Cartoon Obsession",
		emoji = "ğŸ“º",
		text = "You've become obsessed with a particular cartoon show!",
		question = "What happens with this obsession?",
		minAge = 2, maxAge = 6,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Watch it over and over",
				effects = {},
				feedText = "Episode 47 for the 100th time...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 4)
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ“º You learned the theme song by heart! Your parents are going insane.")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ“º You love this show SO much. It's your whole personality now.")
					else
						state:ModifyStat("Happiness", -1)
						state:AddFeed("ğŸ“º The show got cancelled. You're devastated. First heartbreak.")
					end
				end,
			},
		},
	},
	{
		id = "toddler_imaginary_friend",
		title = "Imaginary Friend",
		emoji = "ğŸ‘»",
		text = "You've started talking to an imaginary friend!",
		question = "Who is your imaginary friend?",
		minAge = 3, maxAge = 6,
		baseChance = 0.5,
		cooldown = 3,
		
		choices = {
			{
				text = "A friendly creature",
				effects = {},
				feedText = "You chat with your invisible friend...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 4)
						state:ModifyStat("Smarts", 2)
						state.Flags.vivid_imagination = true
						state:AddFeed("ğŸ‘» Your imaginary friend goes everywhere with you! Great imagination!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ‘» Your parents think it's cute. You have full conversations!")
					else
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ‘» Your imaginary friend 'moved away'. You got over it quickly.")
					end
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- EARLY CHILDHOOD (5-7) - Starting school
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "kindergarten_first_day",
		title = "First Day of Kindergarten",
		emoji = "ğŸ’",
		text = "It's your first day of real school! The classroom is full of other kids.",
		question = "How do you handle this big day?",
		minAge = 5, maxAge = 6,
		oneTime = true,
		isMilestone = true,
		
		choices = {
			{
				text = "Walk in confidently",
				effects = {},
				feedText = "You march right in...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 6)
						state.Flags.confident_kid = true
						state:AddFeed("ğŸ’ You made friends immediately! School is going to be great!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ’ It was overwhelming but exciting! So many new things!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ’ Your confidence faded when you realized you didn't know anyone.")
					end
				end,
			},
			{
				text = "Cling to your parent",
				effects = {},
				feedText = "You don't want them to leave...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ’ You cried when they left, but made a friend by lunch!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ’ You cried most of the day. School is scary.")
					end
				end,
			},
			{
				text = "Find a quiet corner",
				effects = {},
				feedText = "You observe from a distance...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Smarts", 2)
						state:ModifyStat("Happiness", 2)
						state.Flags.observer_personality = true
						state:AddFeed("ğŸ’ You watched and learned. By day 2 you knew how things worked.")
					else
						state:ModifyStat("Happiness", -1)
						state:AddFeed("ğŸ’ It took a while to warm up, but you eventually joined in.")
					end
				end,
			},
		},
	},
	{
		id = "learning_to_read",
		title = "Learning to Read",
		emoji = "ğŸ“–",
		text = "You're learning to read! Letters are starting to make sense!",
		question = "How's the reading going?",
		minAge = 5, maxAge = 7,
		oneTime = true,
		isMilestone = true,
		
		choices = {
			{
				text = "Practice every day",
				effects = {},
				feedText = "C-A-T... cat!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 35 then
						state:ModifyStat("Smarts", 8)
						state.Flags.early_reader = true
						state.Flags.loves_reading = true
						state:AddFeed("ğŸ“– You're reading above your grade level! Your teacher is impressed!")
					elseif roll <= 70 then
						state:ModifyStat("Smarts", 4)
						state:AddFeed("ğŸ“– You're keeping up with your class. Reading is getting easier!")
					else
						state:ModifyStat("Smarts", 2)
						state.Flags.reading_struggles = true
						state:AddFeed("ğŸ“– Reading is hard. Some letters look the same. But you're trying!")
					end
				end,
			},
		},
	},
	{
		id = "childhood_bully_encounter",
		title = "The School Bully",
		emoji = "ğŸ˜ ",
		text = "An older kid at school has been picking on you.",
		question = "How do you handle this?",
		minAge = 5, maxAge = 10,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Stand up for yourself",
				effects = {},
				feedText = "You face the bully...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 30 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Health", 2)
						state.Flags.stood_up_to_bully = true
						state:AddFeed("ğŸ˜  You stood your ground! The bully backed off. Respect earned!")
					elseif roll <= 60 then
						state:ModifyStat("Happiness", 2)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸ˜  You tried to fight back but got shoved. At least you tried.")
					else
						state:ModifyStat("Happiness", -5)
						state:ModifyStat("Health", -5)
						state.Flags.bullied = true
						state:AddFeed("ğŸ˜  It didn't go well. You got beat up. This isn't fair.")
					end
				end,
			},
			{
				text = "Tell a teacher",
				effects = {},
				feedText = "You report the bullying...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ˜  The teacher dealt with it! The bully got in trouble!")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ˜  The teacher talked to them, but nothing really changed...")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ˜  You got labeled a 'snitch'. Things might have gotten worse.")
					end
				end,
			},
			{
				text = "Avoid them",
				effects = {},
				feedText = "You take different routes...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ˜  Your avoidance strategy worked. They found someone else to bother.")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ˜  You can't avoid them forever. The anxiety is constant.")
					end
				end,
			},
			{
				text = "Try to befriend them",
				effects = {},
				feedText = "You approach with kindness...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 25 then
						state:ModifyStat("Happiness", 8)
						state.Flags.diplomatic_kid = true
						state:AddFeed("ğŸ˜  Plot twist! You're actually friends now! They were just lonely!")
					elseif roll <= 60 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ˜  They seemed confused but stopped bothering you.")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ˜  They laughed at your attempt. That backfired.")
					end
				end,
			},
		},
	},
	{
		id = "lost_tooth",
		title = "Lost a Tooth!",
		emoji = "ğŸ¦·",
		text = "Your tooth is super wiggly! It's about to fall out!",
		question = "How does it come out?",
		minAge = 5, maxAge = 8,
		baseChance = 0.5, -- CRITICAL FIX: Reduced from 0.8 to prevent spam
		cooldown = 2, -- CRITICAL FIX: Increased from 1 to prevent spam
		category = "childhood", -- CRITICAL FIX: Proper category
		tags = { "teeth", "childhood", "milestone" },
		
		choices = {
			{
				text = "Let it fall out naturally",
				effects = {},
				feedText = "You wait patiently...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 4)
						state.Money = (state.Money or 0) + 5
						state:AddFeed("ğŸ¦· It fell out while eating! The tooth fairy left you $5!")
					else
						state:ModifyStat("Happiness", 3)
						state.Money = (state.Money or 0) + 2
						state:AddFeed("ğŸ¦· It finally came out! The tooth fairy visited!")
					end
				end,
			},
			{
				text = "Pull it yourself",
				effects = {},
				feedText = "You grab it and pull...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 5)
						state.Money = (state.Money or 0) + 5
						state:AddFeed("ğŸ¦· You pulled it out like a champ! Barely any blood!")
					else
						state:ModifyStat("Happiness", 2)
						state:ModifyStat("Health", -1)
						state.Money = (state.Money or 0) + 5
						state:AddFeed("ğŸ¦· OW! It hurt and bled a lot. But you got tooth fairy money!")
					end
				end,
			},
		},
	},
	{
		id = "birthday_party",
		title = "Birthday Party!",
		emoji = "ğŸ‚",
		text = "It's your birthday! You're having a party!",
		question = "What kind of party do you want?",
		minAge = 4, maxAge = 12,
		baseChance = 0.6, -- CRITICAL FIX: Reduced from 0.9 - not every year has a party
		cooldown = 3, -- CRITICAL FIX: Increased from 1 - parties aren't annual spam
		category = "childhood", -- CRITICAL FIX: Proper category
		tags = { "birthday", "celebration", "childhood" },
		
		choices = {
			{
				text = "Big party with classmates",
				effects = {},
				feedText = "Everyone's invited!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 10)
						state:AddFeed("ğŸ‚ BEST BIRTHDAY EVER! Everyone came and you got so many presents!")
					elseif roll <= 75 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ‚ Great party! A few kids couldn't make it but it was still fun!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ‚ Not many people showed up... It was kind of embarrassing.")
					end
				end,
			},
			{
				text = "Small party with close friends",
				effects = {},
				feedText = "Just your besties...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 7)
						state:AddFeed("ğŸ‚ Perfect party! Quality over quantity. Best friends make the best memories!")
					else
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ‚ Nice and chill party! No drama, just fun!")
					end
				end,
			},
			{
				text = "Family celebration only",
				effects = {},
				feedText = "Just family...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ‚ Grandma made your favorite cake! Family knows you best!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ‚ Nice family dinner. You kind of wished for more though.")
					end
				end,
			},
		},
	},
	{
		id = "childhood_pet_want",
		title = "Wanting a Pet",
		emoji = "ğŸ•",
		text = "You REALLY want a pet! You've been begging your parents for weeks!",
		question = "How do you convince them?",
		minAge = 5, maxAge = 12,
		baseChance = 0.4, -- CRITICAL FIX: Reduced from 0.6
		cooldown = 8, -- CRITICAL FIX: Increased from 3 to prevent spam
		category = "childhood",
		tags = { "pet", "family", "childhood" },
		oneTime = true, -- CRITICAL FIX: Only ask once per childhood
		-- CRITICAL FIX: Don't show if already got a pet or asked too recently
		blockedByFlags = { has_childhood_pet = true, got_dog = true, got_cat = true, got_fish = true, has_dog = true, has_cat = true, pet_asked = true },
		
		choices = {
			{
				text = "Promise to take care of it",
				effects = {},
				feedText = "You make your case...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 30 then
						state:ModifyStat("Happiness", 10)
						state.Flags.has_childhood_pet = true
						state.Flags.got_dog = true
						state:AddFeed("ğŸ• THEY SAID YES! You got a puppy! Best day ever!")
					elseif roll <= 50 then
						state:ModifyStat("Happiness", 7)
						state.Flags.has_childhood_pet = true
						state.Flags.got_fish = true
						state:AddFeed("ğŸ• They compromised - you got a fish. It's SOMETHING at least.")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ• They said no. 'Maybe when you're older.' Devastating.")
					end
				end,
			},
			{
				text = "Do extra chores to prove responsibility",
				effects = {},
				feedText = "You work hard...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 45 then
						state:ModifyStat("Happiness", 10)
						state:ModifyStat("Smarts", 2)
						state.Flags.has_childhood_pet = true
						state.Flags.got_cat = true
						state:AddFeed("ğŸ• Your hard work paid off! You got a cat!")
					elseif roll <= 75 then
						state:ModifyStat("Happiness", 3)
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ• They're 'thinking about it'. Progress!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ• All those chores and still no pet. Life is unfair.")
					end
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- MIDDLE CHILDHOOD (8-10) - Growing independence
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "sleepover_first",
		title = "First Sleepover",
		emoji = "ğŸ›ï¸",
		text = "You've been invited to sleep over at a friend's house!",
		question = "How does the sleepover go?",
		minAge = 7, maxAge = 12,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Stay up all night!",
				effects = {},
				feedText = "Who needs sleep?!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 8)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸ›ï¸ You made it to 4 AM! Best night ever! So tired today though.")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ›ï¸ You fell asleep around 2 AM. Still counts as staying up late!")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ›ï¸ You were the first one to fall asleep. They drew on your face.")
					end
				end,
			},
			{
				text = "Have fun but get some sleep",
				effects = {},
				feedText = "Balance is key...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ›ï¸ Perfect sleepover! Had fun and still functional the next day!")
					else
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ›ï¸ Solid sleepover. Good memories made!")
					end
				end,
			},
		},
	},
	{
		id = "sports_tryouts",
		title = "Sports Tryouts",
		emoji = "âš½",
		text = "There are tryouts for the school sports team! Do you try out?",
		question = "What's your approach?",
		minAge = 7, maxAge = 14,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Give it your all",
				effects = {},
				feedText = "You show up and give 100%...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					local health = (state.Stats and state.Stats.Health) or 50
					local bonus = math.floor(health / 25)
					roll = roll - bonus
					
					state.Flags = state.Flags or {}
					if roll <= 35 then
						state:ModifyStat("Happiness", 10)
						state:ModifyStat("Health", 5)
						state.Flags.school_athlete = true
						state:AddFeed("âš½ You made the team! Coach was impressed!")
					elseif roll <= 65 then
						state:ModifyStat("Happiness", 5)
						state.Flags.school_athlete = true
						state:AddFeed("âš½ You made the team! Barely, but you're on the roster!")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("âš½ You didn't make the cut. Maybe next year...")
					end
				end,
			},
			{
				text = "Skip tryouts",
				effects = {},
				feedText = "You decide not to try out...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 1)
						state:AddFeed("âš½ Sports aren't for everyone. You found other interests.")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("âš½ You kind of regret not trying. What if you would've made it?")
					end
				end,
			},
		},
	},
	{
		id = "talent_show",
		title = "School Talent Show",
		emoji = "ğŸ¤",
		text = "The school is having a talent show! Will you participate?",
		question = "What do you do?",
		minAge = 6, maxAge = 14,
		baseChance = 0.5,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Perform a song/dance",
				effects = {},
				feedText = "You step onto the stage...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 25 then
						state:ModifyStat("Happiness", 12)
						state:ModifyStat("Looks", 3)
						state.Flags.talent_show_winner = true
						state:AddFeed("ğŸ¤ YOU WON! Standing ovation! Star is born!")
					elseif roll <= 60 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ¤ Great performance! Didn't win but got lots of applause!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ¤ You forgot some parts but powered through. Could've been worse!")
					else
						state:ModifyStat("Happiness", -6)
						state.Flags.stage_fright = true
						state:AddFeed("ğŸ¤ You froze on stage. Walked off. Mortifying.")
					end
				end,
			},
			{
				text = "Do a comedy act",
				effects = {},
				feedText = "Time to be funny...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 30 then
						state:ModifyStat("Happiness", 10)
						state:AddFeed("ğŸ¤ Everyone was DYING laughing! You're hilarious!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ¤ Some jokes landed, some didn't. Mixed reviews.")
					else
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ¤ Crickets. Nobody laughed. Comedy is hard.")
					end
				end,
			},
			{
				text = "Just watch",
				effects = {},
				feedText = "You stay in the audience...",
				onResolve = function(state)
					state:ModifyStat("Happiness", 2)
					state:AddFeed("ğŸ¤ Fun to watch! Less stressful from the audience!")
				end,
			},
		},
	},
	{
		id = "science_fair",
		title = "Science Fair Project",
		emoji = "ğŸ”¬",
		text = "The school science fair is coming up! You need a project!",
		question = "What kind of project do you do?",
		minAge = 8, maxAge = 14,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Volcano (classic!)",
				effects = {},
				feedText = "Baking soda + vinegar time!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Smarts", 3)
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ”¬ Your volcano was awesome! Everyone loved the eruption!")
					elseif roll <= 80 then
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ”¬ Classic volcano. Not original but solid execution.")
					else
						state:ModifyStat("Smarts", 1)
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ”¬ The eruption was underwhelming. Mostly just fizzed.")
					end
				end,
			},
			{
				text = "Something original and complex",
				effects = {},
				feedText = "You're going big...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					local smarts = (state.Stats and state.Stats.Smarts) or 50
					local bonus = math.floor(smarts / 20)
					roll = roll - bonus
					
					state.Flags = state.Flags or {}
					if roll <= 30 then
						state:ModifyStat("Smarts", 8)
						state:ModifyStat("Happiness", 8)
						state.Flags.science_fair_winner = true
						state:AddFeed("ğŸ”¬ FIRST PLACE! Your project was incredible! Future scientist!")
					elseif roll <= 60 then
						state:ModifyStat("Smarts", 5)
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ”¬ Judges were impressed! You got an honorable mention!")
					else
						state:ModifyStat("Smarts", 2)
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ”¬ It was too ambitious. Didn't quite work as planned.")
					end
				end,
			},
			{
				text = "Minimal effort, just pass",
				effects = {},
				feedText = "Good enough...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ”¬ You passed. Nothing special, but you're done.")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ”¬ Teacher could tell you rushed it. Got a mediocre grade.")
					end
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- PRE-TEEN (11-12) - Growing up fast
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "preteen_crush",
		title = "First Crush",
		emoji = "ğŸ’•",
		text = "You've developed a crush on someone at school!",
		question = "What do you do about it?",
		minAge = 10, maxAge = 13,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Tell them how you feel",
				effects = {},
				feedText = "Your heart is racing...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					local looks = (state.Stats and state.Stats.Looks) or 50
					local bonus = math.floor(looks / 25)
					roll = roll - bonus
					
					state.Flags = state.Flags or {}
					if roll <= 25 then
						state:ModifyStat("Happiness", 12)
						state.Flags.first_relationship = true
						state:AddFeed("ğŸ’• They like you too! You're 'going out' now! (Whatever that means at this age)")
					elseif roll <= 55 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ’• They were flattered but just want to be friends. Could be worse!")
					else
						state:ModifyStat("Happiness", -6)
						state.Flags.first_rejection = true
						state:AddFeed("ğŸ’• They said 'ew'. First heartbreak. It really hurts.")
					end
				end,
			},
			{
				text = "Keep it secret",
				effects = {},
				feedText = "Your secret crush...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ’• You admire from afar. Safe but maybe cowardly?")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ’• Someone else asked them out. You missed your chance.")
					else
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ’• You eventually got over it. On to the next crush!")
					end
				end,
			},
			{
				text = "Ask a friend to tell them",
				effects = {},
				feedText = "You send a messenger...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 30 then
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ’• They came to talk to you after! It's happening!")
					elseif roll <= 60 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ’• They know now. Ball is in their court.")
					else
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ’• Your friend told EVERYONE. So embarrassing!")
					end
				end,
			},
		},
	},
	{
		id = "preteen_phone",
		title = "First Phone",
		emoji = "ğŸ“±",
		text = "You've been begging for a phone forever!",
		question = "What happens?",
		minAge = 10, maxAge = 14,
		baseChance = 0.6,
		cooldown = 3,
		
		choices = {
			{
				text = "Make a convincing case",
				effects = {},
				feedText = "You present your argument...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Happiness", 10)
						state.Flags.has_phone = true
						state:AddFeed("ğŸ“± YOU GOT A PHONE! Not the newest model but WHO CARES!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 6)
						state.Flags.has_phone = true
						state:AddFeed("ğŸ“± You got a basic phone. Can only text and call. Better than nothing!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ“± They said 'next year'. UGH. Everyone else has one!")
					end
				end,
			},
			{
				text = "Earn money to buy your own",
				effects = {},
				feedText = "You start saving...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 8)
						state:ModifyStat("Smarts", 3)
						state.Flags.has_phone = true
						state:AddFeed("ğŸ“± You did it! Bought it yourself! So satisfying!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ“± Still saving. Almost there...")
					end
				end,
			},
		},
	},
	-- REMOVED: preteen_puberty_start - Roblox TOS compliance
	-- Replaced with a TOS-compliant "growing taller" event
	{
		id = "preteen_growth_spurt",
		title = "Growing Taller!",
		emoji = "ğŸ“ˆ",
		text = "You notice you're getting taller! You've grown several inches this year!",
		question = "How do you feel about your height?",
		minAge = 11, maxAge = 14,
		oneTime = true,
		isMilestone = true,
		-- CRITICAL FIX #800: Block if already had growth spurt - user complaint about spam
		blockedByFlags = { had_growth_spurt = true, growth_spurt_complete = true },
		cooldown = 99, -- Extra protection against respawning
		maxOccurrences = 1, -- Can only happen once per life
		
		choices = {
			{
				text = "Excited to be getting taller!",
				effects = {},
				-- CRITICAL FIX: Remove contradictory feedText - let onResolve handle messaging
				-- BUG: feedText said "embrace being taller" but onResolve could say "still shorter"
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.had_growth_spurt = true
					if roll <= 50 then
						state:ModifyStat("Looks", 3)
						state:ModifyStat("Health", 2)
						state:AddFeed("ğŸ“ˆ You embrace your height! You're one of the taller kids now!")
					elseif roll <= 80 then
						state:ModifyStat("Looks", 1)
						state:AddFeed("ğŸ“ˆ You're at average height for your age. Nothing wrong with that!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ“ˆ Still one of the shorter ones for now. Growth spurts happen at different times!")
					end
				end,
			},
			{
				text = "Hope to be even taller!",
				effects = {},
				-- CRITICAL FIX: Remove feedText - let onResolve handle all messaging
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.had_growth_spurt = true
					if roll <= 40 then
						state:ModifyStat("Happiness", 5)
						state:ModifyStat("Looks", 2)
						state:AddFeed("ğŸ“ˆ You keep growing! Your wish came true - looking good!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ“ˆ Whatever height you end up at, you're great just as you are!")
					end
				end,
			},
		},
	},
	{
		id = "middle_school_cliques",
		title = "School Cliques",
		emoji = "ğŸ‘¥",
		-- CRITICAL FIX #VARIETY-4: Multiple phrasings for replayability
		textVariants = {
			"Middle school has cliques. Everyone seems to belong to a group.",
			"You notice different social groups forming at school. Who will you hang with?",
			"The social hierarchy at school is becoming clear. Time to find your place.",
			"Friend groups are getting more defined. Where do you fit in?",
			"School politics are getting real. Different crowds, different vibes.",
		},
		text = "Middle school has cliques. Everyone seems to belong to a group.",
		question = "Where do you fit in?",
		minAge = 11, maxAge = 14,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Join the popular crowd",
				effects = {},
				feedText = "You try to fit in with the cool kids...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					local looks = (state.Stats and state.Stats.Looks) or 50
					local bonus = math.floor(looks / 20)
					roll = roll - bonus
					
					state.Flags = state.Flags or {}
					if roll <= 30 then
						state:ModifyStat("Happiness", 8)
						state.Flags.popular_kid = true
						state:AddFeed("ğŸ‘¥ You're IN! Part of the cool crowd now!")
					elseif roll <= 60 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ‘¥ You're on the edge of the group. Not quite in, not quite out.")
					else
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ‘¥ They didn't accept you. That stings.")
					end
				end,
			},
			{
				text = "Find the nerdy/artsy group",
				effects = {},
				feedText = "You find your people...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 70 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Smarts", 2)
						state.Flags.found_tribe = true
						state:AddFeed("ğŸ‘¥ You found your people! Might not be popular but they're real!")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ‘¥ Nice group! You fit in pretty well!")
					end
				end,
			},
			{
				text = "Be a floater between groups",
				effects = {},
				feedText = "You don't commit to one group...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 5)
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ‘¥ You have friends everywhere! Social chameleon!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ‘¥ You don't fully fit in anywhere, but you're okay with that.")
					end
				end,
			},
			{
				text = "Stay a loner",
				effects = {},
				feedText = "You keep to yourself...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Smarts", 3)
						state:AddFeed("ğŸ‘¥ You're independent. School is for learning anyway.")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ‘¥ It's lonely. Middle school is tough without friends.")
					end
				end,
			},
		},
	},

	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- TEEN YEARS (13-17) - High school life
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "teen_social_media",
		title = "Social Media Life",
		emoji = "ğŸ“²",
		text = "Everyone at school is on social media. Your online presence matters!",
		question = "How do you approach social media?",
		minAge = 13, maxAge = 17,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Try to go viral",
				effects = {},
				feedText = "You post content hoping to blow up...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 10 then
						state:ModifyStat("Happiness", 15)
						state:ModifyStat("Looks", 3)
						state.Flags.went_viral = true
						state.Flags.social_media_famous = true
						state:AddFeed("ğŸ“² YOU WENT VIRAL! Millions of views! Everyone knows you now!")
					elseif roll <= 30 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ“² One post did pretty well! A few thousand likes!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ“² Moderate engagement. Not viral but you have followers.")
					else
						state:ModifyStat("Happiness", -4)
						state.Flags.embarrassing_post = true
						state:AddFeed("ğŸ“² Your video flopped. Some people even made fun of it.")
					end
				end,
			},
			{
				text = "Keep it casual",
				effects = {},
				feedText = "You use it normally...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ“² Normal social media life. Chatting with friends, sharing stuff.")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ“² It's fine. Nothing special happening on your feed.")
					end
				end,
			},
			{
				text = "Avoid it entirely",
				effects = {},
				feedText = "You stay offline...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 3)
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ“² You're happier without the drama. More time for real life!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ“² You miss out on plans because you're not on social media.")
					end
				end,
			},
		},
	},
	{
		id = "teen_house_party",
		title = "House Party",
		emoji = "ğŸ‰",
		text = "There's a house party this weekend. Parents are out of town...",
		question = "Do you go?",
		minAge = 14, maxAge = 17,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Go and have fun",
				effects = {},
				feedText = "You head to the party...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Happiness", 10)
						state.Flags.party_person = true
						state:AddFeed("ğŸ‰ LEGENDARY NIGHT! So much fun! Made great memories!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ‰ Good party! Nothing crazy but you had a good time!")
					elseif roll <= 90 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ‰ It was okay. Kind of awkward actually.")
					else
						state:ModifyStat("Happiness", -5)
						state:ModifyStat("Health", -3)
						state.Flags.got_in_trouble = true
						state:AddFeed("ğŸ‰ Party got busted. Cops showed up. Your parents found out!")
					end
				end,
			},
			{
				text = "Skip it",
				effects = {},
				feedText = "You stay home...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ‰ You heard it wasn't that great anyway.")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ‰ FOMO is real. Everyone's talking about it on Monday.")
					else
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ‰ People got in trouble there. Glad you didn't go!")
					end
				end,
			},
		},
	},
	{
		id = "teen_part_time_job",
		title = "Getting a Job",
		emoji = "ğŸ’¼",
		text = "You're old enough to get a part-time job!",
		question = "Do you look for work?",
		minAge = 15, maxAge = 17,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Apply everywhere",
				effects = {},
				feedText = "You hand out resumes...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 6)
						state.Money = (state.Money or 0) + 500
						state.Flags.has_job_experience = true
						state:AddFeed("ğŸ’¼ You got a job! Fast food isn't glamorous but money is money!")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 4)
						state.Money = (state.Money or 0) + 300
						state.Flags.has_job_experience = true
						state:AddFeed("ğŸ’¼ Got a job at a retail store! Employee discount!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ’¼ No one's hiring. Rejection emails all week.")
					end
				end,
			},
			{
				text = "Focus on school",
				effects = {},
				feedText = "Studies first...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Smarts", 3)
						state:AddFeed("ğŸ’¼ Your grades improved! Good call on priorities.")
					else
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ’¼ You have more free time but no extra cash.")
					end
				end,
			},
		},
	},
	{
		id = "teen_driving",
		title = "Learning to Drive",
		emoji = "ğŸš—",
		text = "It's time to learn how to drive!",
		question = "How's the driving practice going?",
		minAge = 15, maxAge = 17,
		baseChance = 0.5, -- CRITICAL FIX: Reduced from 0.8 to prevent spam
		cooldown = 5, -- CRITICAL FIX: Increased to prevent spam
		oneTime = true, -- You only learn to drive once!
		-- CRITICAL FIX: Block if already has license or learned to drive
		blockedByFlags = { has_drivers_license = true, good_driver = true, learned_driving = true },
		category = "teen",
		tags = { "driving", "milestone", "teen" },
		
		choices = {
			{
				text = "Practice a lot",
				effects = {},
				feedText = "Behind the wheel again...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.learned_driving = true -- CRITICAL FIX: Always set this so event doesn't repeat
					if roll <= 40 then
						state:ModifyStat("Smarts", 3)
						state:ModifyStat("Happiness", 6)
						state.Flags.good_driver = true
						state.Flags.has_drivers_license = true
						state:AddFeed("ğŸš— You're a natural! Passed the test first try!")
					elseif roll <= 70 then
						state:ModifyStat("Smarts", 2)
						state:ModifyStat("Happiness", 3)
						state.Flags.has_drivers_license = true
						state:AddFeed("ğŸš— You passed! Took a few tries but you got your license!")
					elseif roll <= 90 then
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸš— Failed the test. Parallel parking got you. You'll need to try again later...")
					else
						state:ModifyStat("Happiness", -4)
						state:ModifyStat("Health", -3)
						state.Flags.minor_accident = true
						state:AddFeed("ğŸš— You had a minor fender bender during practice. Scary!")
					end
				end,
			},
			{
				text = "Barely practice",
				effects = {},
				feedText = "How hard can it be...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.learned_driving = true
					if roll <= 20 then
						state:ModifyStat("Happiness", 4)
						state.Flags.has_drivers_license = true
						state:AddFeed("ğŸš— Lucky! Passed despite barely practicing!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸš— Failed! Should've practiced more...")
					end
				end,
			},
			{
				text = "Wait until you're older",
				effects = { Happiness = -2 },
				feedText = "Not ready yet...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.delayed_driving = true
					state:AddFeed("ğŸš— You decided to wait. Driving can be scary!")
				end,
			},
		},
	},
	{
		id = "teen_dating",
		title = "Dating Scene",
		emoji = "ğŸ’‘",
		text = "Someone asked you out!",
		question = "What's your response?",
		minAge = 14, maxAge = 17,
		baseChance = 0.5,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Say yes!",
				effects = {},
				feedText = "You agree to a date...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 35 then
						state:ModifyStat("Happiness", 12)
						state.Flags.in_relationship = true
						state.Flags.dating = true
						state:AddFeed("ğŸ’‘ You're officially a couple! High school sweetheart status!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ’‘ The date went well! You're seeing where it goes...")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ’‘ Awkward date. No chemistry. Let's just be friends.")
					end
				end,
			},
			{
				text = "Say no",
				effects = {},
				feedText = "You decline...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ’‘ They took it well. Still friends!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ’‘ Things are awkward between you now...")
					end
				end,
			},
		},
	},
	{
		id = "teen_college_stress",
		title = "College Pressure",
		emoji = "ğŸ“",
		text = "Everyone is talking about college. SATs, applications, the future...",
		question = "How do you handle the pressure?",
		minAge = 16, maxAge = 17,
		baseChance = 0.55, -- CRITICAL FIX: Reduced from 0.8 to prevent spam
		cooldown = 5, -- CRITICAL FIX: Increased to prevent spam
		oneTime = true, -- College decisions are once-in-a-lifetime
		-- CRITICAL FIX: Proper blocking and category
		blockedByFlags = { college_decision_made = true, in_college = true, skipping_college = true },
		category = "teen",
		tags = { "college", "education", "milestone", "teen" },
		
		choices = {
			{
				text = "Study hard for SAT/ACT",
				effects = {},
				feedText = "You hit the books...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					local smarts = (state.Stats and state.Stats.Smarts) or 50
					local bonus = math.floor(smarts / 20)
					roll = roll - bonus
					
					state.Flags = state.Flags or {}
					state.Flags.college_decision_made = true -- CRITICAL: Mark as done
					if roll <= 30 then
						state:ModifyStat("Smarts", 8)
						state:ModifyStat("Happiness", 5)
						state.Flags.high_sat_score = true
						state.Flags.college_bound = true -- CRITICAL: Link to college events
						state:AddFeed("ğŸ“ Crushed the SAT! Top percentile! College apps looking good!")
					elseif roll <= 60 then
						state:ModifyStat("Smarts", 4)
						state:ModifyStat("Happiness", 2)
						state.Flags.college_bound = true -- CRITICAL: Link to college events
						state:AddFeed("ğŸ“ Solid score! Not Ivy League but plenty of options!")
					else
						state:ModifyStat("Smarts", 2)
						state:ModifyStat("Happiness", -3)
						state.Flags.college_bound = true -- Still going to college
						state:AddFeed("ğŸ“ Score wasn't great. Maybe retake it?")
					end
				end,
			},
			{
				text = "Focus on extracurriculars",
				effects = {},
				feedText = "You pad that resume...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.college_decision_made = true -- CRITICAL FIX: Mark as done
					state.Flags.college_bound = true -- CRITICAL FIX: Link to college events
					if roll <= 50 then
						state:ModifyStat("Happiness", 5)
						state.Flags.well_rounded = true
						state:AddFeed("ğŸ“ Your activities make you stand out! Colleges love well-rounded students!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ“ You have some activities on your resume. Better than nothing!")
					end
				end,
			},
			{
				text = "Consider not going to college",
				effects = {},
				feedText = "College isn't for everyone...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.college_decision_made = true -- CRITICAL FIX: Mark as done
					if roll <= 40 then
						state:ModifyStat("Happiness", 3)
						state.Flags.alternative_path = true
						state.Flags.skipping_college = true -- CRITICAL FIX: Different path
						state:AddFeed("ğŸ“ You're considering trade school or going straight to work. Valid path!")
					else
						state:ModifyStat("Happiness", -2)
						state.Flags.college_bound = true -- Parents won, going to college
						state:AddFeed("ğŸ“ Parents are NOT happy. After many arguments, you agree to try college.")
					end
				end,
			},
		},
	},
	{
		id = "teen_friend_drama",
		title = "Friend Drama",
		emoji = "ğŸ˜­",
		text = "Your friend group is having major drama!",
		question = "What do you do?",
		minAge = 13, maxAge = 17,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Try to mediate",
				effects = {},
				feedText = "You attempt peacemaking...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ˜­ You fixed it! Everyone made up thanks to you!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ˜­ Things calmed down a bit. Still some tension though.")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ˜­ Now they're both mad at YOU. How did this happen?!")
					end
				end,
			},
			{
				text = "Pick a side",
				effects = {},
				feedText = "You choose who to support...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ˜­ You backed the right horse. Your friendship with them is stronger.")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ˜­ You lost a friend. The other one isn't speaking to you.")
					end
				end,
			},
			{
				text = "Stay out of it",
				effects = {},
				feedText = "Not your circus, not your monkeys...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ˜­ You avoided the drama. Smart move.")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ˜­ They think you should have supported them. No winning here.")
					end
				end,
			},
		},
	},
	{
		id = "teen_identity",
		title = "Finding Yourself",
		emoji = "ğŸ”",
		text = "You're figuring out who you are and who you want to be.",
		question = "What are you exploring?",
		minAge = 14, maxAge = 17,
		baseChance = 0.6,
		cooldown = 3,
		
		choices = {
			{
				text = "New style/appearance",
				effects = {},
				feedText = "Time for a reinvention...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Looks", 4)
						state:ModifyStat("Happiness", 5)
						state.Flags.found_style = true
						state:AddFeed("ğŸ” Your new look is getting compliments! You feel like YOU.")
					elseif roll <= 70 then
						state:ModifyStat("Looks", 2)
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ” Still experimenting, but you're getting closer to your style.")
					else
						state:ModifyStat("Looks", -2)
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ” That haircut was a MISTAKE. Growing it out ASAP.")
					end
				end,
			},
			{
				text = "New interests/hobbies",
				effects = {},
				feedText = "Trying new things...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Smarts", 2)
						state.Flags.found_passion = true
						state:AddFeed("ğŸ” You discovered something you're passionate about!")
					else
						state:ModifyStat("Happiness", 2)
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ” Still searching for your thing, but learning along the way.")
					end
				end,
			},
		},
	},
	{
		id = "teen_senioritis",
		title = "Senioritis",
		emoji = "ğŸ˜´",
		text = "You're almost done with high school. Motivation is at an all-time low.",
		question = "How do you handle senior year?",
		minAge = 17, maxAge = 18,
		baseChance = 0.55, -- CRITICAL FIX: Reduced from 0.8
		cooldown = 5, -- CRITICAL FIX: Increased from 1 to prevent spam
		oneTime = true, -- Senior year happens once!
		requiresFlags = { in_high_school = true },
		
		choices = {
			{
				text = "Push through, finish strong",
				effects = {},
				feedText = "One last effort...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Smarts", 4)
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ˜´ You powered through! Finished strong! Proud of yourself!")
					else
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ˜´ Decent finish. Not your best work but you graduated!")
					end
				end,
			},
			{
				text = "Coast to graduation",
				effects = {},
				feedText = "Just enough to pass...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ˜´ You coasted and still graduated. Mission accomplished!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ˜´ Almost failed a class. That was too close!")
					end
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- ADDITIONAL RANDOM CHILDHOOD EVENTS
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "child_scared_of_dark",
		title = "Afraid of the Dark",
		emoji = "ğŸŒ™",
		text = "Bedtime is scary. You're afraid of what's in the dark!",
		question = "How do you handle your fear?",
		minAge = 3, maxAge = 8,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Sleep with a nightlight",
				effects = {},
				feedText = "A small light helps...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸŒ™ The nightlight helps! You feel safe now.")
					else
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸŒ™ Still a little scary, but getting better.")
					end
				end,
			},
			{
				text = "Face the fear",
				effects = {},
				feedText = "You try to be brave...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Happiness", 5)
						state.Flags.brave_kid = true
						state:AddFeed("ğŸŒ™ You conquered your fear! Nothing in the dark is scary!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸŒ™ You got scared and ran to your parents' room.")
					end
				end,
			},
		},
	},
	{
		id = "child_stitches",
		title = "Ouchie!",
		emoji = "ğŸ©¹",
		text = "You had an accident and need stitches!",
		question = "How did it happen?",
		minAge = 3, maxAge = 12,
		baseChance = 0.4,
		cooldown = 3,
		
		choices = {
			{
				text = "Fell while running",
				effects = {},
				feedText = "You went to the hospital...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Health", -5)
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ©¹ Only 3 stitches! You got a cool scar though!")
					else
						state:ModifyStat("Health", -8)
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ©¹ Needed 8 stitches! That HURT but you were brave!")
					end
				end,
			},
			{
				text = "Accident on playground equipment",
				effects = {},
				feedText = "You climbed too high...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Health", -6)
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ©¹ Fell off the monkey bars! 5 stitches in your chin!")
					else
						state:ModifyStat("Health", -10)
						state:ModifyStat("Happiness", -6)
						state:AddFeed("ğŸ©¹ Nasty fall! Broken arm AND stitches. Wore a cast for weeks.")
					end
				end,
			},
		},
	},
	{
		id = "child_tv_limits",
		title = "Screen Time Limits",
		emoji = "ğŸ“º",
		text = "Your parents are limiting your TV and video game time!",
		question = "How do you react?",
		minAge = 5, maxAge = 12,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Accept it",
				effects = {},
				feedText = "Rules are rules...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Smarts", 3)
						state:ModifyStat("Health", 2)
						state:AddFeed("ğŸ“º You found other things to do! Read books and played outside!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ“º You're bored but dealing with it.")
					end
				end,
			},
			{
				text = "Sneak extra screen time",
				effects = {},
				feedText = "When they're not looking...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ“º You got away with it! Extra gaming achieved!")
					else
						state:ModifyStat("Happiness", -4)
						state.Flags.grounded = true
						state:AddFeed("ğŸ“º CAUGHT! Now you have NO screen time for a week!")
					end
				end,
			},
		},
	},
	{
		id = "child_spelling_bee",
		title = "Spelling Bee",
		emoji = "ğŸ",
		text = "Your school is having a spelling bee! Will you participate?",
		question = "What's your choice?",
		minAge = 7, maxAge = 12,
		baseChance = 0.5,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Enter and study hard",
				effects = {},
				feedText = "P-R-E-P-A-R-A-T-I-O-N...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					local smarts = (state.Stats and state.Stats.Smarts) or 50
					local bonus = math.floor(smarts / 20)
					roll = roll - bonus
					
					state.Flags = state.Flags or {}
					if roll <= 20 then
						state:ModifyStat("Smarts", 8)
						state:ModifyStat("Happiness", 10)
						state.Flags.spelling_bee_champ = true
						state:AddFeed("ğŸ YOU WON THE SPELLING BEE! Champion! ğŸ†")
					elseif roll <= 50 then
						state:ModifyStat("Smarts", 4)
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ Made it to the finals! Great job!")
					elseif roll <= 80 then
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ Got out in round 3. Good effort though!")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ Misspelled your first word. In front of everyone. Oof.")
					end
				end,
			},
			{
				text = "Skip it",
				effects = {},
				feedText = "Not your thing...",
				onResolve = function(state)
					state:ModifyStat("Happiness", 1)
					state:AddFeed("ğŸ You watched from the audience. Less stressful.")
				end,
			},
		},
	},
	{
		id = "child_lost_toy",
		title = "Lost Favorite Toy",
		emoji = "ğŸ§¸",
		text = "You can't find your favorite toy! It's GONE!",
		question = "What do you do?",
		minAge = 3, maxAge = 8,
		baseChance = 0.5,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Search everywhere",
				effects = {},
				feedText = "You look under every cushion...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ§¸ FOUND IT! It was under your bed the whole time!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ§¸ Found it at grandma's house! Left it there last visit.")
					else
						state:ModifyStat("Happiness", -6)
						state:AddFeed("ğŸ§¸ Never found it. You're heartbroken. First real loss.")
					end
				end,
			},
		},
	},
	{
		id = "child_field_trip",
		title = "School Field Trip",
		emoji = "ğŸšŒ",
		text = "Your class is going on a field trip!",
		question = "Where are you going?",
		minAge = 6, maxAge = 14,
		baseChance = 0.45, -- FIXED: Lowered from 0.7 to reduce spam
		cooldown = 3, -- FIXED: Increased from 1 - field trips aren't every year
		
		choices = {
			{
				text = "Museum",
				effects = {},
				feedText = "The bus ride begins...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Smarts", 4)
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸšŒ The museum was AWESOME! You learned so much cool stuff!")
					elseif roll <= 80 then
						state:ModifyStat("Smarts", 2)
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸšŒ Some boring parts but overall pretty interesting!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸšŒ Got bus sick on the way. Threw up in front of everyone.")
					end
				end,
			},
			{
				text = "Zoo",
				effects = {},
				feedText = "Animal time!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 60 then
						state:ModifyStat("Happiness", 7)
						state.Flags.loves_animals = true
						state:AddFeed("ğŸšŒ The zoo was incredible! You want to be a zookeeper now!")
					elseif roll <= 90 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸšŒ Great day at the zoo! The monkeys were your favorite!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸšŒ Got pooped on by a bird. Everyone laughed.")
					end
				end,
			},
			{
				text = "Amusement park",
				effects = {},
				feedText = "Roller coasters await!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 10)
						state:AddFeed("ğŸšŒ BEST DAY EVER! Rode everything twice! Can't stop smiling!")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸšŒ So much fun! Long lines but worth it!")
					else
						state:ModifyStat("Happiness", -2)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸšŒ Got sick on the spinning ride. Sat out the rest.")
					end
				end,
			},
		},
	},
	{
		id = "child_room_makeover",
		title = "Room Decoration",
		emoji = "ğŸ›ï¸",
		text = "Your parents are letting you decorate your room!",
		question = "What theme do you want?",
		minAge = 6, maxAge = 14,
		baseChance = 0.4,
		cooldown = 3,
		
		choices = {
			{
				text = "Something cool and unique",
				effects = {},
				feedText = "You get creative...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ›ï¸ Your room is AMAZING! Friends are jealous!")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ›ï¸ Looks pretty good! You like it!")
					end
				end,
			},
			{
				text = "Let parents decide",
				effects = {},
				feedText = "They know best, right?",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ›ï¸ Actually, they did a great job! It looks nice!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ›ï¸ It's kind of boring. Should've chosen yourself.")
					end
				end,
			},
		},
	},
	{
		id = "child_neighborhood_kids",
		title = "Neighborhood Kids",
		emoji = "ğŸ˜ï¸",
		text = "The neighborhood kids are playing outside!",
		question = "Do you join them?",
		minAge = 5, maxAge = 12,
		baseChance = 0.4, -- FIXED: Lowered from 0.7 to reduce spam
		cooldown = 3, -- FIXED: Increased from 1 to reduce spam
		
		choices = {
			{
				text = "Join the fun",
				effects = {},
				feedText = "You run outside...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Health", 2)
						state.Flags.neighborhood_friend = true
						state:AddFeed("ğŸ˜ï¸ Made some neighborhood friends! Playing outside is great!")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ˜ï¸ Good time playing! Came home tired and happy!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ˜ï¸ They didn't really include you. Walked back home sad.")
					end
				end,
			},
			{
				text = "Stay inside",
				effects = {},
				feedText = "You watch from the window...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ˜ï¸ You did your own thing. Sometimes alone time is nice.")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ˜ï¸ Kind of wish you'd gone out there.")
					end
				end,
			},
		},
	},
	{
		id = "teen_acne",
		title = "Acne Problems",
		emoji = "ğŸ˜“",
		text = "You're breaking out! Acne is ruining your life!",
		question = "How do you deal with it?",
		minAge = 12, maxAge = 17,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Try skincare products",
				effects = {},
				feedText = "You wash and moisturize...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Looks", 4)
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ˜“ The products worked! Skin is clearing up!")
					elseif roll <= 70 then
						state:ModifyStat("Looks", 1)
						state:AddFeed("ğŸ˜“ Slowly getting better. Patience...")
					else
						state:ModifyStat("Looks", -2)
						state:AddFeed("ğŸ˜“ Made it worse somehow. Skin is angry.")
					end
				end,
			},
			{
				text = "See a dermatologist",
				effects = {},
				feedText = "Professional help...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Looks", 5)
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ˜“ The prescription worked wonders! Clear skin ahead!")
					else
						state:ModifyStat("Looks", 2)
						state:AddFeed("ğŸ˜“ It's a process. Doctor says it takes time.")
					end
				end,
			},
		},
	},
	{
		id = "teen_embarrassing_moment",
		title = "Embarrassing Moment",
		emoji = "ğŸ˜³",
		text = "Something SUPER embarrassing just happened at school!",
		question = "What happened?",
		minAge = 13, maxAge = 17,
		baseChance = 0.5,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Tripped in front of everyone",
				effects = {},
				feedText = "You hit the floor...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ˜³ You laughed it off! People forgot about it by lunch.")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ˜³ People giggled. You wanted to disappear.")
					else
						state:ModifyStat("Happiness", -8)
						state:AddFeed("ğŸ˜³ Someone filmed it. It's on social media. Kill me now.")
					end
				end,
			},
			{
				text = "Called teacher 'Mom/Dad'",
				effects = {},
				feedText = "The words slipped out...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ˜³ Classic mistake. Teacher laughed, class laughed, moving on.")
					else
						state:ModifyStat("Happiness", -6)
						state:AddFeed("ğŸ˜³ 'MOM-- I MEAN MA'AM!' The whole class heard. Mortifying.")
					end
				end,
			},
			{
				text = "Voice cracked during presentation",
				effects = {},
				feedText = "Mid-sentence disaster...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ˜³ Your voice went three octaves up. People tried not to laugh.")
					else
						state:ModifyStat("Happiness", -7)
						state:AddFeed("ğŸ˜³ Could NOT recover. Finished presentation in squeaky voice.")
					end
				end,
			},
		},
	},
	{
		id = "teen_music_taste",
		title = "Music Discovery",
		emoji = "ğŸµ",
		text = "You're developing your own music taste!",
		question = "What kind of music do you get into?",
		minAge = 12, maxAge = 17,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Pop/Mainstream",
				effects = {},
				feedText = "You stream the top hits...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸµ You know all the lyrics to every hit song!")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸµ Easy to talk about music with friends!")
					end
				end,
			},
			{
				text = "Something alternative/underground",
				effects = {},
				feedText = "You find your niche...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 5)
						state.Flags.music_snob = true
						state:AddFeed("ğŸµ 'You probably haven't heard of them.' Your new favorite phrase.")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸµ Your music taste is unique. That's cool!")
					end
				end,
			},
			{
				text = "Whatever your friends like",
				effects = {},
				feedText = "Going with the crowd...",
				onResolve = function(state)
					state:ModifyStat("Happiness", 3)
					state:AddFeed("ğŸµ At least you have something to bond over!")
				end,
			},
		},
	},
	{
		id = "teen_bedroom_privacy",
		title = "Privacy Please!",
		emoji = "ğŸšª",
		text = "You want more privacy in your room!",
		question = "How do you handle it?",
		minAge = 13, maxAge = 17,
		baseChance = 0.5,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Ask parents to knock first",
				effects = {},
				feedText = "You have a conversation...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸšª They agreed! Personal space respected!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸšª 'My house, my rules.' Ugh. Parents don't get it.")
					end
				end,
			},
			{
				text = "Put up a 'Keep Out' sign",
				effects = {},
				feedText = "Boundaries set...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸšª The sign works! Territory established!")
					else
						state:ModifyStat("Happiness", -1)
						state:AddFeed("ğŸšª Parents ignore the sign. What's the point?")
					end
				end,
			},
		},
	},
	{
		id = "child_loose_pet",
		title = "Pet Escaped!",
		emoji = "ğŸ•",
		text = "Your pet got out of the house!",
		question = "What do you do?",
		minAge = 5, maxAge = 14,
		baseChance = 0.3,
		cooldown = 3,
		requiresFlags = { has_childhood_pet = true },
		
		choices = {
			{
				text = "Search the neighborhood",
				effects = {},
				feedText = "You run outside calling their name...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ• FOUND THEM! They were just exploring. So relieved!")
					elseif roll <= 90 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ• A neighbor found them and brought them home!")
					else
						state:ModifyStat("Happiness", -10)
						state:AddFeed("ğŸ• You searched for hours but couldn't find them... devastating.")
					end
				end,
			},
		},
	},
	{
		id = "teen_weekend_plans",
		title = "Weekend Plans",
		emoji = "ğŸ“…",
		text = "It's Friday! What are you doing this weekend?",
		question = "What's the plan?",
		minAge = 13, maxAge = 17,
		baseChance = 0.4, -- FIXED: Lowered from 0.8 to reduce spam
		cooldown = 4, -- FIXED: Increased from 1 to reduce spam
		
		choices = {
			{
				text = "Hang with friends",
				effects = {},
				feedText = "You make plans...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ“… Great weekend! Made memories with the squad!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ“… Plans fell through but still had some fun!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ“… Everyone was busy. Ended up alone.")
					end
				end,
			},
			{
				text = "Catch up on sleep/relax",
				effects = {},
				feedText = "You stay home...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Health", 3)
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ“… Needed that rest. Recharged and ready for Monday!")
					else
						state:ModifyStat("Happiness", 1)
						state:AddFeed("ğŸ“… Lazy weekend. Kind of boring but relaxing.")
					end
				end,
			},
			{
				text = "Do homework/study",
				effects = {},
				feedText = "Productivity mode...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Smarts", 4)
						state:AddFeed("ğŸ“… Got ahead on all your work! Stress-free week ahead!")
					else
						state:ModifyStat("Smarts", 2)
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ“… Studied but kept getting distracted. Meh.")
					end
				end,
			},
		},
	},
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- NEW EARLY LIFE EVENTS (Massive Expansion) - Ages 0-15
	-- User request: "THE GAME IS THE EXACT SAME FROM AGE 0-15 EXPAND SO MUCH"
	-- All events have RANDOMIZED outcomes (BitLife style)
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "toddler_learning_shapes",
		title = "Learning Shapes!",
		emoji = "ğŸ”·",
		textVariants = {
			"Your parents are teaching you about shapes and colors!",
			"Time to learn your shapes! What's your favorite?",
			"Preschool is teaching shapes today!",
		},
		text = "Your parents are teaching you about shapes and colors!",
		question = "How do you do?",
		minAge = 2, maxAge = 4,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "I love circles!",
				effects = {},
				feedText = "Circles are the best...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ”· You can identify all your shapes! Little genius!")
					else
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ”· Still learning, but making progress!")
					end
				end,
			},
			{
				text = "Shapes are confusing...",
				effects = {},
				feedText = "Everything looks the same...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Smarts", 1)
						state:AddFeed("ğŸ”· With patience, you start to get it!")
					else
						state:AddFeed("ğŸ”· Shapes will click eventually. No rush!")
					end
				end,
			},
		},
	},
	{
		id = "child_swimming_lessons",
		title = "Swimming Lessons",
		emoji = "ğŸŠ",
		textVariants = {
			"Your parents signed you up for swimming lessons!",
			"Time to learn to swim!",
			"The local pool has swimming classes for kids!",
		},
		text = "Your parents signed you up for swimming lessons!",
		question = "How does your first lesson go?",
		minAge = 4, maxAge = 10,
		baseChance = 0.5,
		cooldown = 3,
		oneTime = true,
		
		choices = {
			{
				text = "Jump right in!",
				effects = {},
				feedText = "You approach the pool...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Health", 4)
						state:ModifyStat("Happiness", 5)
						state.Flags.can_swim = true
						state:AddFeed("ğŸŠ Natural swimmer! You love it! Splashing around happily!")
					elseif roll <= 80 then
						state:ModifyStat("Health", 2)
						state:AddFeed("ğŸŠ Took a while to get comfortable, but you're learning!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸŠ Swallowed some water and got scared. Maybe next time.")
					end
				end,
			},
			{
				text = "Too scared to try",
				effects = {},
				feedText = "The water looks intimidating...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 30 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸŠ The instructor helped you overcome your fear! Progress!")
					else
						state:ModifyStat("Happiness", -2)
						state.Flags = state.Flags or {}
						state.Flags.water_fear = true
						state:AddFeed("ğŸŠ Stayed on the edge. Water is scary. Will try again later.")
					end
				end,
			},
		},
	},
	{
		id = "child_art_class",
		title = "Art Class",
		emoji = "ğŸ¨",
		textVariants = {
			"Art class is today! Time to get creative!",
			"Your teacher hands out art supplies!",
			"Today's project: painting!",
		},
		text = "Art class is today! Time to get creative!",
		question = "What do you create?",
		minAge = 5, maxAge = 12,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Paint something abstract",
				effects = {},
				feedText = "You splash colors everywhere...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 6)
						state.Flags = state.Flags or {}
						state.Flags.artistic_talent = true
						state:AddFeed("ğŸ¨ Everyone loves your art! Teacher displays it on the wall!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ¨ Your painting is unique! You like it even if nobody else does!")
					else
						state:ModifyStat("Happiness", -1)
						state:AddFeed("ğŸ¨ It's a mess. You call it 'modern art' though!")
					end
				end,
			},
			{
				text = "Draw your family",
				effects = {},
				feedText = "You carefully draw stick figures...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ¨ Sweet drawing! Parents put it on the fridge!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ¨ It's the thought that counts! Classic family portrait!")
					end
				end,
			},
		},
	},
	{
		id = "child_school_picture",
		title = "School Picture Day",
		emoji = "ğŸ“¸",
		textVariants = {
			"It's picture day at school!",
			"Time for your annual school photo!",
			"The photographer is here for picture day!",
		},
		text = "It's picture day at school!",
		question = "How does your photo turn out?",
		minAge = 5, maxAge = 17,
		baseChance = 0.35, -- CRITICAL FIX: Reduced from 0.7
		cooldown = 5, -- CRITICAL FIX: Increased from 1 to prevent spam
		category = "school",
		tags = { "picture", "school", "photo" },
		blockedByFlags = { in_prison = true, dropped_out_high_school = true },
		
		choices = {
			{
				text = "Smile big for the camera!",
				effects = {},
				feedText = "You sit down and smile...",
				onResolve = function(state)
					local looks = (state.Stats and state.Stats.Looks) or 50
					local roll = math.random(1, 100) - math.floor(looks / 10)
					if roll <= 40 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ“¸ Great photo! You look amazing! Mom will frame this!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ“¸ Decent picture. Could be worse!")
					else
						state:ModifyStat("Happiness", -4)
						state:AddFeed("ğŸ“¸ Terrible photo! Eyes half-closed! You look like a zombie!")
					end
				end,
			},
			{
				text = "Try a unique pose",
				effects = {},
				feedText = "You do something different...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 30 then
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ“¸ Iconic! Everyone loves your personality showing through!")
					elseif roll <= 60 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ“¸ Unique! It captures who you are!")
					else
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ“¸ The photographer wasn't ready. You look ridiculous.")
					end
				end,
			},
		},
	},
	{
		id = "child_playground_challenge",
		title = "Playground Challenge",
		emoji = "ğŸ¢",
		textVariants = {
			"Someone at the playground challenges you!",
			"'Bet you can't do this!' someone yells at the playground.",
			"A playground showdown is happening!",
		},
		text = "Someone at the playground challenges you to a contest!",
		question = "What's the challenge?",
		minAge = 5, maxAge = 12,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Who can swing the highest",
				effects = {},
				feedText = "You pump your legs harder...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 45 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Health", 2)
						state:AddFeed("ğŸ¢ YOU WON! Swinging so high! Champion of the playground!")
					elseif roll <= 75 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ¢ Close race! You both got pretty high!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ¢ They won. But it was fun trying!")
					end
				end,
			},
			{
				text = "Monkey bars race",
				effects = {},
				feedText = "You grab the first bar...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 5)
						state:ModifyStat("Health", 3)
						state:AddFeed("ğŸ¢ Blazed through like a monkey! Winner!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ¢ Good effort! Made it across!")
					else
						state:ModifyStat("Health", -2)
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ¢ Slipped and fell. Scraped your knee. Ouch!")
					end
				end,
			},
		},
	},
	{
		id = "child_library_visit",
		title = "Library Visit",
		emoji = "ğŸ“š",
		textVariants = {
			"Your class is visiting the library today!",
			"Time to pick out some books at the library!",
			"Library day! So many books to choose from!",
		},
		text = "Your class is visiting the library today!",
		question = "What kind of books do you pick?",
		minAge = 5, maxAge = 14,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Adventure stories",
				effects = {},
				feedText = "You browse the fiction section...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 4)
						state:ModifyStat("Smarts", 2)
						state.Flags = state.Flags or {}
						state.Flags.loves_reading = true
						state:AddFeed("ğŸ“š Found an amazing series! Can't put it down!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ“š Some good picks! Reading is fun!")
					end
				end,
			},
			{
				text = "Non-fiction and facts",
				effects = {},
				feedText = "You head to the educational section...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Smarts", 5)
						state:AddFeed("ğŸ“š Learned so much! Did you know that...")
					else
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ“š Interesting facts! Knowledge is power!")
					end
				end,
			},
			{
				text = "Comics and graphic novels",
				effects = {},
				feedText = "Pictures AND words? Perfect!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ“š These are SO GOOD! Reading is actually fun!")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ“š Finished them in one sitting!")
					end
				end,
			},
		},
	},
	{
		id = "child_nature_walk",
		title = "Nature Discovery",
		emoji = "ğŸ¦‹",
		textVariants = {
			"You're exploring the backyard when you find something!",
			"On a walk, you discover something in nature!",
			"The great outdoors has a surprise for you!",
		},
		text = "You're exploring the backyard when you find something!",
		question = "What did you find?",
		minAge = 4, maxAge = 12,
		baseChance = 0.6,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "A cool bug or butterfly",
				effects = {},
				feedText = "You observe the creature...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 5)
						state:ModifyStat("Smarts", 2)
						state.Flags = state.Flags or {}
						state.Flags.nature_lover = true
						state:AddFeed("ğŸ¦‹ Beautiful butterfly! Nature is amazing!")
					elseif roll <= 80 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ¦‹ Cool insect! You watched it for a while!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ¦‹ It flew away before you could look closely!")
					end
				end,
			},
			{
				text = "An interesting plant",
				effects = {},
				feedText = "You inspect the plant closely...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Smarts", 3)
						state:AddFeed("ğŸ¦‹ You learned it's a rare wildflower!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ¦‹ Pretty plant! You picked it for mom!")
					else
						state:ModifyStat("Health", -3)
						state.Flags = state.Flags or {}
						state.Flags.poison_ivy_experience = true
						state:AddFeed("ğŸ¦‹ It was poison ivy! Itchy rash for a week!")
					end
				end,
			},
		},
	},
	{
		id = "child_allowance",
		title = "First Allowance!",
		emoji = "ğŸ’°",
		textVariants = {
			"Your parents start giving you an allowance!",
			"You earned your first allowance for doing chores!",
			"Mom and Dad are giving you pocket money!",
		},
		text = "Your parents start giving you an allowance for doing chores!",
		question = "What do you do with the money?",
		minAge = 6, maxAge = 14,
		baseChance = 0.5,
		cooldown = 3,
		oneTime = true,
		
		choices = {
			{
				text = "Save it all!",
				effects = {},
				feedText = "You put it in your piggy bank...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Money = (state.Money or 0) + 20
					if roll <= 60 then
						state:ModifyStat("Smarts", 3)
						state.Flags = state.Flags or {}
						state.Flags.saver = true
						state:AddFeed("ğŸ’° Smart kid! Saving for something big!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ’° Saved it! But it was hard not to spend!")
					end
				end,
			},
			{
				text = "Buy candy and toys!",
				effects = {},
				feedText = "You rush to the store...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ’° So much candy! Best day ever!")
					else
						state:ModifyStat("Happiness", 3)
						state:ModifyStat("Health", -1)
						state:AddFeed("ğŸ’° Spent it all instantly. Sugar crash.")
					end
				end,
			},
		},
	},
	{
		id = "teen_phone_drama",
		title = "Phone Drama",
		emoji = "ğŸ“±",
		textVariants = {
			"Drama is unfolding in the group chat!",
			"Your phone is blowing up with notifications!",
			"Social drama alert! The group chat is on fire!",
		},
		text = "Drama is unfolding in the group chat!",
		question = "How do you handle it?",
		minAge = 13, maxAge = 17,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Stay out of it - mute the chat",
				effects = {},
				feedText = "You put your phone away...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 4)
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ“± Smart choice! Drama died down without you.")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ“± Someone said you were 'acting weird' for not responding...")
					end
				end,
			},
			{
				text = "Join in and take sides",
				effects = {},
				feedText = "You start typing...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ“± Your side won the argument! Drama = entertainment!")
					else
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ“± Now everyone is mad at you. Shouldn't have gotten involved!")
					end
				end,
			},
			{
				text = "Try to be the peacemaker",
				effects = {},
				feedText = "You try to calm everyone down...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 5)
						state.Flags = state.Flags or {}
						state.Flags.peacemaker = true
						state:AddFeed("ğŸ“± You diffused the situation! Everyone's grateful!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ“± They told you to mind your own business. Oof.")
					end
				end,
			},
		},
	},
	{
		id = "teen_fashion_sense",
		title = "Style Evolution",
		emoji = "ğŸ‘•",
		textVariants = {
			"You're thinking about changing up your style!",
			"Time to reinvent your look!",
			"Fashion crisis! What's your vibe?",
		},
		text = "You're thinking about changing up your style!",
		question = "What direction do you go?",
		minAge = 13, maxAge = 17,
		baseChance = 0.5,
		cooldown = 3,
		
		choices = {
			{
				text = "Follow the trends",
				effects = {},
				feedText = "You study what's popular...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Looks", 3)
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ‘• Looking fresh! Compliments all around!")
					elseif roll <= 80 then
						state:ModifyStat("Looks", 1)
						state:AddFeed("ğŸ‘• Trendy! You fit in with the crowd!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ‘• The trend died by the time you tried it. Awkward.")
					end
				end,
			},
			{
				text = "Create your own unique style",
				effects = {},
				feedText = "You express yourself...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Looks", 4)
						state:ModifyStat("Happiness", 6)
						state.Flags.unique_style = true
						state:AddFeed("ğŸ‘• Trendsetter! People are copying YOUR style now!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ‘• You love your style even if others don't get it!")
					else
						state:ModifyStat("Happiness", -3)
						state:ModifyStat("Looks", -1)
						state:AddFeed("ğŸ‘• People are giving you weird looks... maybe too unique.")
					end
				end,
			},
		},
	},
	{
		id = "child_tooth_fairy",
		title = "Lost a Tooth!",
		emoji = "ğŸ¦·",
		textVariants = {
			"Your tooth is wiggling and about to fall out!",
			"One of your baby teeth finally came out!",
			"Tooth fairy time! You lost a tooth!",
		},
		text = "Your tooth is wiggling and about to fall out!",
		question = "How do you handle it?",
		minAge = 5, maxAge = 10,
		baseChance = 0.35, -- CRITICAL FIX: Reduced from 0.6
		cooldown = 6, -- CRITICAL FIX: Increased from 1 to prevent spam
		category = "childhood",
		tags = { "tooth", "milestone", "childhood" },
		-- CRITICAL FIX: Block if already had a tooth event recently
		blockedByFlags = { tooth_fell_out = true, recent_tooth_loss = true },
		
		choices = {
			{
				text = "Let it fall out naturally",
				effects = {},
				feedText = "You wait patiently...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Money = (state.Money or 0) + math.random(1, 5)
					if roll <= 70 then
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ¦· It came out while eating! Tooth fairy left $2!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ¦· Finally! Tooth fairy visited! You're growing up!")
					end
				end,
			},
			{
				text = "Pull it yourself - be brave!",
				effects = {},
				feedText = "You grab it and yank...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Money = (state.Money or 0) + math.random(1, 5)
					if roll <= 50 then
						state:ModifyStat("Happiness", 6)
						state.Flags = state.Flags or {}
						state.Flags.brave_kid = true
						state:AddFeed("ğŸ¦· YOU DID IT! Barely hurt! Tooth fairy bonus!")
					else
						state:ModifyStat("Happiness", 2)
						state:ModifyStat("Health", -1)
						state:AddFeed("ğŸ¦· Ouch! Hurt more than expected, but it's out!")
					end
				end,
			},
		},
	},
	{
		id = "child_rain_day",
		title = "Rainy Day",
		emoji = "ğŸŒ§ï¸",
		textVariants = {
			"It's raining outside! What do you do?",
			"Plans cancelled due to rain!",
			"A rainy day means indoor activities!",
		},
		text = "It's raining outside! What do you do?",
		question = "How do you spend the day?",
		minAge = 4, maxAge = 12,
		baseChance = 0.7,
		cooldown = 4, -- CRITICAL FIX: Increased from 2 to reduce spam
		
		choices = {
			{
				text = "Build a blanket fort!",
				effects = {},
				feedText = "You gather all the pillows and blankets...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸŒ§ï¸ EPIC FORT! Best rainy day ever! Even watched movies inside it!")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸŒ§ï¸ Fort kept collapsing but you had fun building it!")
					end
				end,
			},
			{
				text = "Play video games",
				effects = {},
				feedText = "You grab the controller...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 60 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸŒ§ï¸ Gaming all day! Beat that level you were stuck on!")
					else
						state:ModifyStat("Happiness", 2)
						state:ModifyStat("Health", -1)
						state:AddFeed("ğŸŒ§ï¸ Too much screen time. Eyes hurt but fun!")
					end
				end,
			},
			{
				text = "Play in the rain!",
				effects = {},
				feedText = "You run outside in your rain boots...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 50 then
						state:ModifyStat("Happiness", 8)
						state:ModifyStat("Health", 1)
						state:AddFeed("ğŸŒ§ï¸ PUDDLE JUMPING! So much fun! Childhood magic!")
					else
						state:ModifyStat("Happiness", 3)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸŒ§ï¸ Got soaked and caught a cold. Worth it though!")
					end
				end,
			},
		},
	},
	{
		id = "teen_social_media_start",
		title = "Social Media Account",
		emoji = "ğŸ“±",
		textVariants = {
			"You're old enough for social media! Time to make an account!",
			"Everyone at school is on social media. Time to join!",
			"You finally get permission to create a social media account!",
		},
		text = "You're old enough for social media! Time to make an account!",
		question = "What happens when you join?",
		minAge = 13, maxAge = 15,
		baseChance = 0.6,
		cooldown = 5,
		oneTime = true,
		
		choices = {
			{
				text = "Start posting carefully",
				effects = {},
				feedText = "You create your first account...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.social_media_active = true
					if roll <= 60 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ“± Made some online friends! This is cool!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ“± Getting the hang of it! First followers!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ“± Nobody followed back. Social media is harsh.")
					end
				end,
			},
			{
				text = "Go all in - post everything!",
				effects = {},
				feedText = "You post constantly...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.social_media_active = true
					if roll <= 40 then
						state:ModifyStat("Happiness", 8)
						state.Flags.content_creator = true
						state:AddFeed("ğŸ“± People love your posts! Getting popular!")
					elseif roll <= 70 then
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ“± Posting too much? Some people unfollowed...")
					else
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ“± Posted something embarrassing. Learning the hard way!")
					end
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- CRITICAL FIX: SUPER ENGAGING EARLY GAME EVENTS (First 5 minutes!)
	-- These events make the first few years FUN and ENGAGING to hook players!
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "baby_first_word",
		title = "ğŸ—£ï¸ First Word!",
		emoji = "ğŸ—£ï¸",
		text = "Everyone is gathered around, waiting for your first word! This is a BIG moment!",
		question = "What's your first word?",
		minAge = 1, maxAge = 2,
		baseChance = 0.75,
		cooldown = 99,
		oneTime = true,
		-- CRITICAL FIX: Block this event if the Childhood.lua version already triggered!
		-- This prevents duplicate "first word" events
		blockedByFlags = { first_word = true, first_word_mama = true, first_word_dada = true, first_word_no = true, first_word_random = true },
		
		choices = {
			{
				text = "Mama!",
				effects = {},
				feedText = "You look at your mother and say...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.first_word_mama = true
					state:ModifyStat("Happiness", 8)
					state:AddFeed("ğŸ—£ï¸ 'MAMA!' Your mother cries tears of joy! She'll never forget this moment!")
				end,
			},
			{
				text = "Dada!",
				effects = {},
				feedText = "You look at your father and say...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.first_word_dada = true
					state:ModifyStat("Happiness", 8)
					state:AddFeed("ğŸ—£ï¸ 'DADA!' Your father is SO proud! He tells EVERYONE!")
				end,
			},
			{
				text = "No!",
				effects = {},
				feedText = "You look around defiantly...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.first_word_no = true
					state.Flags.rebellious_spirit = true
					state:ModifyStat("Happiness", 6)
					state:ModifyStat("Smarts", 2)
					state:AddFeed("ğŸ—£ï¸ 'NO!' Your parents laugh nervously. This one's gonna be trouble!")
				end,
			},
			{
				text = "Something random!",
				effects = {},
				feedText = "You babble something unexpected...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					local words = {"cookie", "doggy", "ball", "bye-bye", "uh-oh", "banana"}
					local word = words[math.random(1, #words)]
					state.Flags.first_word_random = true
					state:ModifyStat("Happiness", 7)
					state:AddFeed("ğŸ—£ï¸ '" .. string.upper(word) .. "!' Everyone bursts out laughing! So unexpected!")
				end,
			},
		},
	},
	{
		id = "baby_first_steps",
		title = "ğŸš¶ First Steps!",
		emoji = "ğŸš¶",
		text = "You're standing up... wobbling... is this it? Your first steps?!",
		question = "Will you walk?",
		minAge = 1, maxAge = 2,
		baseChance = 0.7,
		cooldown = 99,
		oneTime = true,
		-- CRITICAL FIX: Block this event if the Childhood.lua version already triggered!
		-- This prevents duplicate "first steps" events
		blockedByFlags = { cautious_personality = true, adventurous_spirit = true, seeks_approval = true },
		
		choices = {
			{
				text = "Walk to Mommy!",
				effects = {},
				feedText = "You take a wobbly step...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.can_walk = true
					if roll <= 60 then
						state:ModifyStat("Health", 3)
						state:ModifyStat("Happiness", 10)
						state:AddFeed("ğŸš¶ ONE STEP... TWO STEPS... THREE! You walked! Mom is crying happy tears!")
					else
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸš¶ You took a step... then fell! But everyone cheered anyway!")
					end
				end,
			},
			{
				text = "Walk to Daddy!",
				effects = {},
				feedText = "You reach toward your father...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					state.Flags.can_walk = true
					if roll <= 60 then
						state:ModifyStat("Health", 3)
						state:ModifyStat("Happiness", 10)
						state:AddFeed("ğŸš¶ Dad catches you after 4 steps! He's over the moon!")
					else
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸš¶ You walked toward dad and fell into his arms! Victory!")
					end
				end,
			},
			{
				text = "Run straight for the door!",
				effects = {},
				feedText = "You have other plans...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.can_walk = true
					state.Flags.adventurous = true
					state:ModifyStat("Health", 4)
					state:ModifyStat("Happiness", 8)
					state:AddFeed("ğŸš¶ You didn't just walk - you BOLTED for freedom! Everyone chased you laughing!")
				end,
			},
		},
	},
	{
		id = "toddler_playground_adventure",
		title = "ğŸ¢ Playground Adventure!",
		emoji = "ğŸ¢",
		text = "Your parents took you to the playground! So many things to explore!",
		question = "What do you do first?",
		minAge = 2, maxAge = 4,
		baseChance = 0.5, -- CRITICAL FIX: Reduced from 0.85 to prevent spam
		cooldown = 5, -- CRITICAL FIX: Increased to prevent spam
		
		choices = {
			{
				text = "The big slide!",
				effects = {},
				feedText = "You climb up the ladder...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state:ModifyStat("Happiness", 10)
						state.Flags.thrill_seeker = true
						state:AddFeed("ğŸ¢ WHEEEEE! Best feeling ever! You went down 20 times!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ¢ A bit scary at first but SO fun! You loved it!")
					else
						state:ModifyStat("Happiness", 2)
						state:ModifyStat("Health", -1)
						state:AddFeed("ğŸ¢ You fell off at the bottom! Just a scrape. Mom panicked though!")
					end
				end,
			},
			{
				text = "The swings!",
				effects = {},
				feedText = "You run to the swings...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ¢ 'Higher! HIGHER!' You felt like you could fly!")
					else
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ¢ Swinging is peaceful. You could do this forever!")
					end
				end,
			},
			{
				text = "Make new friends!",
				effects = {},
				feedText = "You spot other kids...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 60 then
						state:ModifyStat("Happiness", 9)
						state.Flags.social_butterfly = true
						state:AddFeed("ğŸ¢ You made a new friend! Played together ALL day!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ¢ The other kids were nice! Played tag together!")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ¢ A kid took your toy and made you cry. Playground politics!")
					end
				end,
			},
			{
				text = "Build a sandcastle!",
				effects = {},
				feedText = "You head to the sandbox...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 65 then
						state:ModifyStat("Happiness", 7)
						state:ModifyStat("Smarts", 2)
						state.Flags.creative = true
						state:AddFeed("ğŸ¢ MASTERPIECE! You built an amazing castle! Dad took a photo!")
					else
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ¢ Some kid stomped your castle! But you rebuilt it bigger!")
					end
				end,
			},
		},
	},
	{
		id = "toddler_discover_talent",
		title = "â­ Hidden Talent!",
		emoji = "â­",
		text = "Your parents notice you're really good at something!",
		question = "What's your hidden talent?",
		minAge = 2, maxAge = 4,
		baseChance = 0.7,
		cooldown = 99,
		oneTime = true,
		priority = "high",
		
		choices = {
			{
				text = "Music - you love rhythm!",
				effects = {},
				feedText = "You always dance when music plays...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.musical_talent = true
					state.Flags.musician = true
					state:ModifyStat("Happiness", 6)
					state:AddFeed("â­ Natural rhythm! Your parents get you toy instruments! Future rockstar?")
				end,
			},
			{
				text = "Art - you draw everything!",
				effects = {},
				feedText = "Crayons are your best friends...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.artistic_talent = true
					state.Flags.creative = true
					state:ModifyStat("Smarts", 3)
					state:ModifyStat("Happiness", 5)
					state:AddFeed("â­ Little Picasso! Your drawings go on the fridge! Mom says you're gifted!")
				end,
			},
			{
				text = "Sports - natural athlete!",
				effects = {},
				feedText = "You run faster than other kids...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.athletic_talent = true
					state.Flags.athlete = true
					state:ModifyStat("Health", 4)
					state:ModifyStat("Happiness", 5)
					state:AddFeed("â­ Super coordinated! Dad already talking about sports scholarships!")
				end,
			},
			{
				text = "Reading - you're a bookworm!",
				effects = {},
				feedText = "You love being read to...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.reading_talent = true
					state.Flags.bookworm = true
					state:ModifyStat("Smarts", 5)
					state:ModifyStat("Happiness", 4)
					state:AddFeed("â­ You already know your ABCs! Grandma says you're a genius!")
				end,
			},
		},
	},
	{
		id = "child_big_decision",
		title = "ğŸ¯ Big Kid Decision!",
		emoji = "ğŸ¯",
		text = "You're old enough to make some choices now! What kind of kid are you?",
		question = "Who do you want to be?",
		minAge = 5, maxAge = 6,
		baseChance = 0.85,
		cooldown = 99,
		oneTime = true,
		priority = "high",
		
		choices = {
			{
				text = "The popular kid!",
				effects = {},
				feedText = "You want FRIENDS...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 65 then
						state.Flags.popular_kid = true
						state:ModifyStat("Happiness", 8)
						state:ModifyStat("Looks", 2)
						state:AddFeed("ğŸ¯ Everyone wants to sit with you at lunch! Birthday party = packed!")
					else
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ¯ You're getting there! Making new friends takes time!")
					end
				end,
			},
			{
				text = "The smart kid!",
				effects = {},
				feedText = "You want to LEARN everything...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 70 then
						state.Flags.smart_kid = true
						state:ModifyStat("Smarts", 8)
						state:ModifyStat("Happiness", 4)
						state:AddFeed("ğŸ¯ Teacher's pet! Always raising your hand! Straight A's incoming!")
					else
						state:ModifyStat("Smarts", 5)
						state:AddFeed("ğŸ¯ You try hard in class. Knowledge is power!")
					end
				end,
			},
			{
				text = "The funny kid!",
				effects = {},
				feedText = "You want to make people LAUGH...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.class_clown = true
					state:ModifyStat("Happiness", 10)
					state:AddFeed("ğŸ¯ Class clown! Everyone loves your jokes! (Teachers... not so much)")
				end,
			},
			{
				text = "The tough kid!",
				effects = {},
				feedText = "Nobody messes with you...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state.Flags.tough_kid = true
						state:ModifyStat("Health", 4)
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ¯ Playground respect EARNED! Bullies know to stay away!")
					else
						state.Flags.tough_kid = true
						state:ModifyStat("Health", 3)
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ¯ Got in a fight already... but you held your own!")
					end
				end,
			},
		},
	},
	{
		id = "child_birthday_party_epic",
		title = "ğŸ‚ EPIC Birthday Party!",
		emoji = "ğŸ‚",
		text = "It's your birthday! Your parents are throwing you a party!",
		question = "What kind of party do you want?",
		minAge = 4, maxAge = 10,
		baseChance = 0.45, -- CRITICAL FIX: Reduced from 0.9 - not every year has an epic party!
		cooldown = 6, -- CRITICAL FIX: Increased to prevent spam
		
		choices = {
			{
				text = "Pizza party with friends!",
				effects = {},
				feedText = "Everyone's invited...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 75 then
						state:ModifyStat("Happiness", 12)
						state:AddFeed("ğŸ‚ BEST DAY EVER! Cake, presents, games! Everyone had SO much fun!")
					else
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ‚ A kid spilled juice on the cake but it was still fun!")
					end
				end,
			},
			{
				text = "Theme park adventure!",
				effects = {},
				feedText = "ROLLER COASTERS!",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 70 then
						state:ModifyStat("Happiness", 15)
						state:ModifyStat("Health", 2)
						state:AddFeed("ğŸ‚ THEME PARK BIRTHDAY! You rode every ride TWICE! Legendary!")
					else
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ‚ Long lines but still amazing! Got a giant stuffed animal!")
					end
				end,
			},
			{
				text = "Sleepover party!",
				effects = {},
				feedText = "Friends sleeping over...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					if roll <= 65 then
						state:ModifyStat("Happiness", 11)
						state.Flags = state.Flags or {}
						state.Flags.party_animal = true
						state:AddFeed("ğŸ‚ Stayed up till 3AM! Pizza, movies, games! Best night EVER!")
					else
						state:ModifyStat("Happiness", 7)
						state:AddFeed("ğŸ‚ Someone got homesick but otherwise amazing!")
					end
				end,
			},
			{
				text = "Just family - quiet celebration",
				effects = {},
				feedText = "Quality time...",
				onResolve = function(state)
					state:ModifyStat("Happiness", 8)
					state.Flags = state.Flags or {}
					state.Flags.family_oriented = true
					state:AddFeed("ğŸ‚ Grandparents came over. Lots of love. Sometimes simple is best!")
				end,
			},
		},
	},
	{
		id = "toddler_pet_encounter",
		title = "ğŸ• First Pet Encounter!",
		emoji = "ğŸ•",
		text = "There's a cute puppy at the park! It comes right up to you!",
		question = "What do you do?",
		minAge = 2, maxAge = 5,
		baseChance = 0.75,
		cooldown = 3,
		
		choices = {
			{
				text = "Pet the puppy!",
				effects = {},
				feedText = "You reach out slowly...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 80 then
						state:ModifyStat("Happiness", 10)
						state.Flags.animal_lover = true
						state:AddFeed("ğŸ• The puppy LOVES you! It licks your face! Pure joy!")
					else
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ• The puppy ran away. Maybe next time!")
					end
				end,
			},
			{
				text = "BEG for a pet at home!",
				effects = {},
				feedText = "You look at your parents with big eyes...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state:ModifyStat("Happiness", 15)
						state.Flags.has_pet = true
						state.Flags.animal_lover = true
						state:AddFeed("ğŸ• YOUR BEGGING WORKED! Parents promised to get you a pet!")
					else
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ• 'Maybe when you're older...' Classic parent response!")
					end
				end,
			},
			{
				text = "Run away scared!",
				effects = {},
				feedText = "Dogs are big and scary...",
				onResolve = function(state)
					state:ModifyStat("Happiness", 2)
					state.Flags = state.Flags or {}
					state.Flags.afraid_of_dogs = true
					state:AddFeed("ğŸ• You hid behind your parents. Dogs are intense!")
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- CRITICAL FIX: MORE SUPER ENGAGING FIRST 5 MINUTES EVENTS
	-- Making early game FUN and MEMORABLE so players want to keep playing!
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	{
		id = "baby_secret_power",
		title = "âœ¨ You Have a Secret Power!",
		emoji = "âœ¨",
		text = "Your parents notice something SPECIAL about you! You seem to have an unusual ability...",
		question = "What's your secret baby power?",
		minAge = 1, maxAge = 2, -- FIXED: Not at birth (age 0) - babies need time to show "powers"
		baseChance = 0.45, -- FIXED: Lowered from 0.8 to reduce spam
		cooldown = 99,
		oneTime = true,
		-- FIXED: Removed priority = "high" - let it happen naturally
		
		choices = {
			{
				text = "Super charm - everyone loves me!",
				effects = {},
				feedText = "You flash your adorable smile...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.super_charming = true
					state:ModifyStat("Looks", 5)
					state:ModifyStat("Happiness", 8)
					state:AddFeed("âœ¨ Everyone who sees you falls in love instantly! Strangers stop to coo at you!")
				end,
			},
			{
				text = "Genius brain - I'm already smart!",
				effects = {},
				feedText = "You solve the baby puzzle easily...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.baby_genius = true
					state:ModifyStat("Smarts", 6)
					state:ModifyStat("Happiness", 6)
					state:AddFeed("âœ¨ At just months old, you figured out how to escape your crib! Parents are amazed!")
				end,
			},
			{
				text = "Iron constitution - I never get sick!",
				effects = {},
				feedText = "Every other baby catches colds but not you...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.iron_constitution = true
					state:ModifyStat("Health", 8)
					state:ModifyStat("Happiness", 5)
					state:AddFeed("âœ¨ While other babies sneeze and cough, you're perfectly healthy! Doctor says you're remarkably resilient!")
				end,
			},
			{
				text = "Lucky baby - good things happen!",
				effects = {},
				feedText = "Everything seems to go your way...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.born_lucky = true
					state:ModifyStat("Happiness", 10)
					state:AddFeed("âœ¨ Your parents won the lottery the week you were born! You're clearly a lucky charm!")
				end,
			},
		},
	},
	{
		id = "baby_celebrity_encounter",
		title = "ğŸŒŸ Celebrity Encounter!",
		emoji = "ğŸŒŸ",
		text = "A FAMOUS PERSON is at the park! They're walking right toward you!",
		question = "What happens?",
		minAge = 1, maxAge = 3, -- FIXED: Not at birth - newborns don't go to parks
		baseChance = 0.3, -- FIXED: Lowered from 0.6 - celebrity encounters are rare
		cooldown = 99,
		oneTime = true,
		-- FIXED: Removed priority = "medium" - let it happen naturally
		
		choices = {
			{
				text = "They want to hold me!",
				effects = {},
				feedText = "The celebrity reaches out...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 70 then
						state.Flags.met_celebrity = true
						state:ModifyStat("Happiness", 15)
						state:AddFeed("ğŸŒŸ OMG! A famous movie star held you! Your parents got a photo - it went viral!")
					else
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸŒŸ The celebrity waved at you! Your parents couldn't believe it!")
					end
				end,
			},
			{
				text = "I cry at them!",
				effects = {},
				feedText = "You let out a wail...",
				onResolve = function(state)
					state:ModifyStat("Happiness", 5)
					state:AddFeed("ğŸŒŸ You cried when the celebrity approached. They laughed and said 'tough crowd!'")
				end,
			},
			{
				text = "I grab their hair!",
				effects = {},
				feedText = "Your little hand reaches out...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.feisty_baby = true
					state:ModifyStat("Happiness", 12)
					state:AddFeed("ğŸŒŸ You grabbed the celebrity's hair! They posted about it saying 'Cutest baby ever attacked me!'")
				end,
			},
		},
	},
	{
		id = "toddler_superhero_moment",
		title = "ğŸ¦¸ Superhero Moment!",
		emoji = "ğŸ¦¸",
		text = "You're wearing your favorite costume and something AMAZING happens...",
		question = "What's your superhero moment?",
		minAge = 2, maxAge = 5,
		baseChance = 0.85,
		cooldown = 99,
		oneTime = true,
		priority = "high",
		
		choices = {
			{
				text = "Save the cat from a tree!",
				effects = {},
				feedText = "You hear a meowing cat stuck in a tree...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 60 then
						state.Flags.hero_kid = true
						state:ModifyStat("Happiness", 12)
						state:ModifyStat("Health", 2)
						state:AddFeed("ğŸ¦¸ You climbed up (with dad's help) and saved the cat! Neighborhood hero!")
					else
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ¦¸ You tried to save the cat but needed the fire department. Still brave!")
					end
				end,
			},
			{
				text = "Stop a bully at the playground!",
				effects = {},
				feedText = "You see a bigger kid picking on someone...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 55 then
						state.Flags.defender = true
						state:ModifyStat("Happiness", 14)
						state:AddFeed("ğŸ¦¸ You stood up to the bully! The other kid became your best friend!")
					else
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ¦¸ The bully laughed at you, but the other kid still appreciated your courage!")
					end
				end,
			},
			{
				text = "Find a lost puppy's home!",
				effects = {},
				feedText = "A lost puppy follows you...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.animal_hero = true
					state.Flags.animal_lover = true
					state:ModifyStat("Happiness", 13)
					state:AddFeed("ğŸ¦¸ You helped find the puppy's owner! They gave you a reward and called you a HERO!")
				end,
			},
		},
	},
	{
		id = "toddler_magic_discovery",
		title = "ğŸ© You Discovered Magic!",
		emoji = "ğŸ©",
		text = "Something MAGICAL happened today! You can't explain it!",
		question = "What magical thing happened?",
		minAge = 2, maxAge = 5,
		baseChance = 0.75,
		cooldown = 99,
		oneTime = true,
		priority = "high",
		
		choices = {
			{
				text = "I made a coin disappear!",
				effects = {},
				feedText = "You wave your hands mysteriously...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.magic_kid = true
					state:ModifyStat("Smarts", 3)
					state:ModifyStat("Happiness", 10)
					state:AddFeed("ğŸ© You learned a magic trick! Now you perform shows for everyone!")
				end,
			},
			{
				text = "I talked to an animal!",
				effects = {},
				feedText = "You had a conversation with a bird...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.talks_to_animals = true
					state.Flags.imaginative = true
					state:ModifyStat("Happiness", 12)
					state:AddFeed("ğŸ© You're CONVINCED you talked to a squirrel. Maybe you did? Who knows!")
				end,
			},
			{
				text = "I made a wish and it came true!",
				effects = {},
				feedText = "You wished upon a star and...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state.Flags.wish_maker = true
						state:ModifyStat("Happiness", 15)
						state:AddFeed("ğŸ© You wished for ice cream and grandma showed up with some! MAGIC IS REAL!")
					else
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ© Your wish... sort of came true? Close enough! You believe in magic now!")
					end
				end,
			},
		},
	},
	{
		id = "toddler_treasure_hunt",
		title = "ğŸ—ºï¸ Treasure Hunt!",
		emoji = "ğŸ—ºï¸",
		text = "You found a mysterious map in the backyard! X marks the spot!",
		question = "Do you follow the treasure map?",
		minAge = 3, maxAge = 6,
		baseChance = 0.5, -- CRITICAL FIX: Reduced from 0.9 to prevent spam
		cooldown = 6, -- CRITICAL FIX: Increased to prevent spam
		oneTime = true, -- Finding a treasure map is a special event!
		priority = "high",
		
		choices = {
			{
				text = "DIG FOR TREASURE!",
				effects = {},
				feedText = "You start digging where X marks the spot...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state.Flags.treasure_hunter = true
						state:ModifyStat("Happiness", 18)
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ—ºï¸ YOU FOUND BURIED TREASURE! (It was a box of old toys but still AMAZING!)")
					elseif roll <= 75 then
						state:ModifyStat("Happiness", 12)
						state:AddFeed("ğŸ—ºï¸ You found a shiny rock! It's YOUR treasure now!")
					else
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ—ºï¸ Just dirt... but the adventure was the real treasure!")
					end
				end,
			},
			{
				text = "Follow the map's path!",
				effects = {},
				feedText = "You follow the mysterious trail...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.adventurer = true
					state:ModifyStat("Happiness", 14)
					state:ModifyStat("Health", 2)
					state:AddFeed("ğŸ—ºï¸ The map led you on an adventure around the yard! You found a hidden garden!")
				end,
			},
			{
				text = "Get mom and dad to help!",
				effects = {},
				feedText = "You show them the map excitedly...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.family_oriented = true
					state:ModifyStat("Happiness", 16)
					state:AddFeed("ğŸ—ºï¸ Family treasure hunt! Dad pretended to find gold coins. Best day ever!")
				end,
			},
		},
	},
	{
		id = "child_first_dare",
		title = "ğŸ˜ˆ Truth or Dare!",
		emoji = "ğŸ˜ˆ",
		text = "Your friends are playing Truth or Dare! It's YOUR turn!",
		question = "Truth or Dare?",
		minAge = 5, maxAge = 10,
		baseChance = 0.45, -- CRITICAL FIX: Reduced from 0.85 to prevent spam
		cooldown = 5, -- CRITICAL FIX: Increased to prevent spam
		priority = "medium",
		
		choices = {
			{
				text = "DARE! I'm brave!",
				effects = {},
				feedText = "Your friends dare you to...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 60 then
						state.Flags.daredevil = true
						state:ModifyStat("Happiness", 12)
						state:AddFeed("ğŸ˜ˆ You completed the dare! Ate a worm! Everyone was IMPRESSED!")
					elseif roll <= 85 then
						state:ModifyStat("Happiness", 6)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸ˜ˆ The dare was too hard! You chickened out. Embarrassing!")
					else
						state:ModifyStat("Happiness", -3)
						state:ModifyStat("Health", -5)
						state:AddFeed("ğŸ˜ˆ The dare went WRONG! You fell and scraped your knee!")
					end
				end,
			},
			{
				text = "TRUTH! What secrets?",
				effects = {},
				feedText = "They ask you a question...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 70 then
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ˜ˆ You told the truth about your crush! Everyone giggled!")
					else
						state.Flags.good_liar = true
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸ˜ˆ You told a little white lie. Nobody caught on!")
					end
				end,
			},
			{
				text = "I don't want to play!",
				effects = {},
				feedText = "You back out of the game...",
				onResolve = function(state)
					state:ModifyStat("Happiness", 3)
					state:AddFeed("ğŸ˜ˆ You sat this one out. Maybe next time you'll be braver!")
				end,
			},
		},
	},
	{
		id = "child_fort_building",
		title = "ğŸ° EPIC Fort Building!",
		emoji = "ğŸ°",
		text = "You're building the ULTIMATE blanket fort! This is serious business!",
		question = "What kind of fort are you building?",
		minAge = 4, maxAge = 10,
		baseChance = 0.45, -- CRITICAL FIX: Reduced from 0.9 to prevent spam
		cooldown = 5, -- CRITICAL FIX: Increased to prevent spam
		priority = "medium",
		
		choices = {
			{
				text = "A CASTLE with towers!",
				effects = {},
				feedText = "You stack pillows and blankets...",
				onResolve = function(state)
					local roll = math.random(1, 100)
					state.Flags = state.Flags or {}
					if roll <= 70 then
						state.Flags.master_builder = true
						state:ModifyStat("Happiness", 14)
						state:ModifyStat("Smarts", 2)
						state:AddFeed("ğŸ° Your castle fort is AMAZING! You even made a drawbridge!")
					else
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ° It collapsed twice but the final result is cozy!")
					end
				end,
			},
			{
				text = "A SECRET spy hideout!",
				effects = {},
				feedText = "You create a hidden base...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.spy_kid = true
					state:ModifyStat("Happiness", 12)
					state:ModifyStat("Smarts", 3)
					state:AddFeed("ğŸ° Your spy hideout is SO hidden that mom couldn't find you for an hour!")
				end,
			},
			{
				text = "A cozy reading nook!",
				effects = {},
				feedText = "You create a comfy space...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.bookworm = true
					state:ModifyStat("Happiness", 10)
					state:ModifyStat("Smarts", 4)
					state:AddFeed("ğŸ° Your reading fort is PERFECT! You read three books in there today!")
				end,
			},
		},
	},
	{
		id = "baby_laugh_attack",
		title = "ğŸ˜‚ Uncontrollable Giggles!",
		emoji = "ğŸ˜‚",
		text = "Something is SO FUNNY that you can't stop laughing!",
		question = "What made you laugh?",
		minAge = 1, maxAge = 3, -- FIXED: Not age 0 (newborns don't do this)
		baseChance = 0.35, -- FIXED: Lowered from 0.9 to prevent spam
		cooldown = 3, -- FIXED: Increased from 1 to prevent spam
		oneTime = true, -- FIXED: Only happens once per life
		
		choices = {
			{
				text = "Daddy made a funny face!",
				effects = {},
				feedText = "He's being SO silly...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.giggly_baby = true
					state:ModifyStat("Happiness", 12)
					state:AddFeed("ğŸ˜‚ You laughed SO HARD at daddy's face! He kept doing it for 10 minutes!")
				end,
			},
			{
				text = "The dog did something silly!",
				effects = {},
				feedText = "The pet is being goofy...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.animal_lover = true
					state:ModifyStat("Happiness", 11)
					state:AddFeed("ğŸ˜‚ The dog chased its tail and you almost fell over laughing!")
				end,
			},
			{
				text = "You scared yourself sneezing!",
				effects = {},
				feedText = "ACHOO! Wait, what was that?!",
				onResolve = function(state)
					state:ModifyStat("Happiness", 10)
					state:AddFeed("ğŸ˜‚ You sneezed, scared yourself, then laughed about it! Everyone found it adorable!")
				end,
			},
		},
	},
	{
		id = "toddler_imaginary_friend",
		title = "ğŸ§š Imaginary Friend!",
		emoji = "ğŸ§š",
		text = "You've made a VERY SPECIAL friend that only you can see!",
		question = "Who is your imaginary friend?",
		minAge = 2, maxAge = 6,
		baseChance = 0.75,
		cooldown = 99,
		oneTime = true,
		priority = "high",
		
		choices = {
			{
				text = "A friendly dragon named Sparky!",
				effects = {},
				feedText = "Sparky breathes pretend fire...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.imaginary_friend = true
					state.Flags.imaginative = true
					state:ModifyStat("Happiness", 12)
					state:ModifyStat("Smarts", 2)
					state:AddFeed("ğŸ§š Sparky the dragon protects you from monsters! He lives under your bed!")
				end,
			},
			{
				text = "A superhero sidekick!",
				effects = {},
				feedText = "You fight imaginary villains together...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.imaginary_friend = true
					state.Flags.hero_complex = true
					state:ModifyStat("Happiness", 13)
					state:AddFeed("ğŸ§š Captain Awesome is your crime-fighting partner! You save stuffed animals daily!")
				end,
			},
			{
				text = "A fairy princess!",
				effects = {},
				feedText = "She grants wishes and spreads magic...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.imaginary_friend = true
					state.Flags.creative_soul = true
					state:ModifyStat("Happiness", 11)
					state:ModifyStat("Looks", 1)
					state:AddFeed("ğŸ§š Princess Sparkle teaches you magic spells! (They're just pretend... or ARE they?)")
				end,
			},
			{
				text = "Just another kid like me!",
				effects = {},
				feedText = "Your invisible friend is always there...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.imaginary_friend = true
					state:ModifyStat("Happiness", 10)
					state:AddFeed("ğŸ§š Your friend 'Alex' comes everywhere with you. Set a place at dinner for them!")
				end,
			},
		},
	},
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- CRITICAL FIX #970: EXCITING FIRST 10 MINUTES EVENTS!
	-- These events hook players immediately with fun, varied, consequence-based content
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	{
		id = "baby_discovered_talent",
		title = "ğŸŒŸ Hidden Talent!",
		emoji = "ğŸŒŸ",
		textVariants = {
			"You just did something AMAZING for a baby!",
			"Everyone's jaw dropped at what you just did!",
			"Your parents are calling EVERYONE to tell them!",
		},
		text = "You just did something AMAZING for a baby!",
		question = "What incredible thing did you do?",
		minAge = 1, maxAge = 2, -- FIXED: Not at birth (age 0) - babies can't do talents at birth
		baseChance = 0.4, -- FIXED: Lowered from 0.7
		cooldown = 3, -- FIXED: Increased from 2
		oneTime = true,
		-- FIXED: Removed priority = "high" to prevent triggering too early
		
		choices = {
			{
				text = "Said a complete sentence!",
				effects = {},
				feedText = "The words just came out...",
				onResolve = function(state)
					local roll = math.random(100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state.Flags.early_talker = true
						state.Flags.gifted_child = true
						state:ModifyStat("Smarts", 8)
						state:ModifyStat("Happiness", 5)
						state:AddFeed("ğŸŒŸ GENIUS BABY! You spoke a full sentence! Mom is already planning Harvard!")
					else
						state:ModifyStat("Smarts", 4)
						state:AddFeed("ğŸŒŸ Your first real sentence! Parents recorded it immediately!")
					end
				end,
			},
			{
				text = "Solved a puzzle meant for older kids!",
				effects = {},
				feedText = "You figured it out instantly...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.problem_solver = true
					state:ModifyStat("Smarts", 6)
					state:ModifyStat("Happiness", 4)
					state:AddFeed("ğŸŒŸ PUZZLE MASTER! You solved a 5-year-old's puzzle at age {{AGE}}!")
				end,
			},
			{
				text = "Danced perfectly to music!",
				effects = {},
				feedText = "The rhythm is in your soul...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.natural_dancer = true
					state.Flags.musical = true
					state:ModifyStat("Happiness", 8)
					state:ModifyStat("Looks", 2)
					state:AddFeed("ğŸŒŸ DANCING BABY! You've got MOVES! The video went viral in the family group chat!")
				end,
			},
			{
				text = "Drew something recognizable!",
				effects = {},
				feedText = "Your art is surprisingly good...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.artistic = true
					state:ModifyStat("Smarts", 3)
					state:ModifyStat("Happiness", 5)
					state:AddFeed("ğŸŒŸ Baby Picasso! You drew mommy and it actually LOOKED like her!")
				end,
			},
		},
	},
	
	{
		id = "toddler_big_choice",
		title = "ğŸ¯ BIG Decision Time!",
		emoji = "ğŸ¯",
		text = "This is the BIGGEST choice you've ever made! Well... at your age anyway.",
		question = "What major thing do you want?",
		minAge = 2, maxAge = 4,
		baseChance = 0.45, -- FIXED: Lowered from 0.75
		cooldown = 4, -- FIXED: Increased from 2
		oneTime = true, -- FIXED: Only once per life
		
		choices = {
			{
				text = "A PUPPY! I WANT A PUPPY!",
				effects = {},
				feedText = "You BEG and BEG...",
				onResolve = function(state)
					local roll = math.random(100)
					state.Flags = state.Flags or {}
					if roll <= 30 then
						state.Flags.has_pet = true
						state.Flags.pet_owner = true
						state.Flags.dog_person = true
						state:ModifyStat("Happiness", 15)
						state:AddFeed("ğŸ¯ YOUR WISH CAME TRUE! You got a puppy named Buddy! Best. Day. EVER!")
					elseif roll <= 70 then
						state.Flags.wants_pet = true
						state:ModifyStat("Happiness", -5)
						state:AddFeed("ğŸ¯ 'Maybe when you're older.' The WORST words in the English language.")
					else
						state.Flags.has_pet = true
						state.Flags.fish_owner = true
						state:ModifyStat("Happiness", 3)
						state:AddFeed("ğŸ¯ They got you a fish instead. His name is Mr. Bubbles. It's... fine.")
					end
				end,
			},
			{
				text = "A baby brother or sister!",
				effects = {},
				feedText = "You ask your parents...",
				onResolve = function(state)
					local roll = math.random(100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state.Flags.expecting_sibling = true
						state:ModifyStat("Happiness", 10)
						state:AddFeed("ğŸ¯ Mom and Dad say maybe! They're 'thinking about it!' THIS IS HUGE!")
					else
						state:ModifyStat("Happiness", 2)
						state:AddFeed("ğŸ¯ 'We'll see, sweetie.' Translation: probably not. But maybe!?")
					end
				end,
			},
			{
				text = "To stay up LATE like grown-ups!",
				effects = {},
				feedText = "You negotiate hard...",
				onResolve = function(state)
					local roll = math.random(100)
					if roll <= 40 then
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ¯ Victory! You got to stay up until 8:30! You fell asleep at 8:35.")
					else
						state:ModifyStat("Happiness", -2)
						state:AddFeed("ğŸ¯ Nope. Bedtime is bedtime. This is TYRANNY!")
					end
				end,
			},
			{
				text = "To eat ice cream for EVERY meal!",
				effects = {},
				feedText = "You present your case...",
				onResolve = function(state)
					local roll = math.random(100)
					if roll <= 20 then
						state:ModifyStat("Happiness", 12)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸ¯ Ice cream for dinner! Just this once! GREATEST NIGHT EVER!")
					else
						state:ModifyStat("Happiness", -3)
						state:AddFeed("ğŸ¯ 'No.' The CRUELTY. The INJUSTICE. You'll remember this.")
					end
				end,
			},
		},
	},
	
	{
		id = "child_adventure_call",
		title = "ğŸ—ºï¸ ADVENTURE AWAITS!",
		emoji = "ğŸ—ºï¸",
		textVariants = {
			"Something EXCITING is about to happen!",
			"Today is NOT a normal day!",
			"You can feel it - something AMAZING is coming!",
		},
		text = "Something EXCITING is about to happen!",
		question = "What adventure do you choose?",
		minAge = 5, maxAge = 8, -- FIXED: Start at 5, not 4
		baseChance = 0.4, -- FIXED: Lowered from 0.8
		cooldown = 4, -- FIXED: Increased from 2
		oneTime = true, -- FIXED: Only once per life
		
		choices = {
			{
				text = "Explore the mysterious backyard!",
				effects = {},
				feedText = "You venture into unknown territory...",
				onResolve = function(state)
					local roll = math.random(100)
					state.Flags = state.Flags or {}
					if roll <= 40 then
						state.Flags.explorer = true
						state.Flags.found_treasure = true
						state:ModifyStat("Happiness", 12)
						state:ModifyStat("Smarts", 2)
						local money = math.random(1, 5)
						state.Money = (state.Money or 0) + money
						state:AddFeed(string.format("ğŸ—ºï¸ TREASURE! You found $%d in coins behind the shed! RICH!", money))
					elseif roll <= 70 then
						state.Flags.explorer = true
						state:ModifyStat("Happiness", 8)
						state:AddFeed("ğŸ—ºï¸ You discovered a COOL bug and named it Steve! Best friend now!")
					else
						state:ModifyStat("Happiness", 5)
						state:ModifyStat("Health", -2)
						state:AddFeed("ğŸ—ºï¸ You explored bravely but stepped in mud. Mom's NOT happy.")
					end
				end,
			},
			{
				text = "Build the ULTIMATE blanket fort!",
				effects = {},
				feedText = "Construction begins...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.architect = true
					state.Flags.creative_builder = true
					state:ModifyStat("Happiness", 10)
					state:ModifyStat("Smarts", 3)
					state:AddFeed("ğŸ—ºï¸ Fort MEGA is complete! 12 pillows, 4 blankets, 2 chairs! ENGINEERING GENIUS!")
				end,
			},
			{
				text = "Plan a neighborhood expedition!",
				effects = {},
				feedText = "You gather supplies...",
				onResolve = function(state)
					local roll = math.random(100)
					state.Flags = state.Flags or {}
					if roll <= 50 then
						state.Flags.adventurer = true
						state.Flags.made_friends = true
						state:ModifyStat("Happiness", 11)
						state:AddFeed("ğŸ—ºï¸ You met a NEW KID on the next street! Best adventure EVER!")
					else
						state:ModifyStat("Happiness", 6)
						state:AddFeed("ğŸ—ºï¸ Mom caught you before you got too far. 'Adventure' was 2 houses away.")
					end
				end,
			},
			{
				text = "Create an imaginary world!",
				effects = {},
				feedText = "Your imagination runs WILD...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.creative_genius = true
					state.Flags.vivid_imagination = true
					state:ModifyStat("Happiness", 9)
					state:ModifyStat("Smarts", 4)
					state:AddFeed("ğŸ—ºï¸ You invented the land of Awesomia! You are its SUPREME RULER!")
				end,
			},
		},
	},
	
	{
		id = "child_superpower_discovery",
		title = "âš¡ You Have a SUPERPOWER!",
		emoji = "âš¡",
		text = "You just realized you have a SPECIAL ABILITY! (According to you, anyway.)",
		question = "What's your superpower?",
		minAge = 4, maxAge = 7, -- FIXED: Start at 4, not 3
		baseChance = 0.35, -- FIXED: Lowered from 0.65
		cooldown = 5, -- FIXED: Increased from 3
		oneTime = true,
		-- FIXED: Removed priority = "high"
		
		choices = {
			{
				text = "I can talk to animals!",
				effects = {},
				feedText = "You communicate with creatures...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.animal_whisperer = true
					state.Flags.animal_lover = true
					state:ModifyStat("Happiness", 10)
					state:AddFeed("âš¡ You spent an hour 'talking' to squirrels. They definitely understood you!")
				end,
			},
			{
				text = "I'm SUPER strong!",
				effects = {},
				feedText = "You test your strength...",
				onResolve = function(state)
					local roll = math.random(100)
					state.Flags = state.Flags or {}
					state.Flags.believes_in_powers = true
					if roll <= 50 then
						state:ModifyStat("Happiness", 8)
						state:ModifyStat("Health", 2)
						state:AddFeed("âš¡ You carried ALL the groceries in ONE trip! MOM WAS AMAZED!")
					else
						state:ModifyStat("Happiness", 4)
						state:AddFeed("âš¡ You tried to lift the couch. You couldn't. POWERS STILL DEVELOPING!")
					end
				end,
			},
			{
				text = "I can turn invisible!",
				effects = {},
				feedText = "You close your eyes and focus...",
				onResolve = function(state)
					state.Flags = state.Flags or {}
					state.Flags.sneaky = true
					state:ModifyStat("Happiness", 7)
					state:AddFeed("âš¡ You hide so well playing hide and seek that they gave up looking! INVISIBLE!")
				end,
			},
			{
				text = "I can see the FUTURE!",
				effects = {},
				feedText = "You make a prediction...",
				onResolve = function(state)
					local roll = math.random(100)
					state.Flags = state.Flags or {}
					state.Flags.intuitive = true
					if roll <= 30 then
						state:ModifyStat("Happiness", 12)
						state:ModifyStat("Smarts", 2)
						state:AddFeed("âš¡ You predicted it would rain AND IT DID! PSYCHIC CONFIRMED!")
					else
						state:ModifyStat("Happiness", 6)
						state:AddFeed("âš¡ Your prediction didn't come true... YET. Powers need time!")
					end
				end,
			},
		},
	},
	
	-- REMOVED: baby_viral_moment event was confusing and triggered too early
	-- The "500 likes grandma shared" text was nonsensical for a newborn
	-- Replaced with a simpler, more appropriate family video event
}

return EarlyLifeEvents
