--[[
    Crime Events Catalog
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    MASSIVELY EXPANDED FOR AAA BITLIFE QUALITY
    
    Features:
    - 18+ immersive crime events (was 2!)
    - Petty theft, drug dealing, robbery, fraud, violence
    - Police encounters, court scenes, prison consequences
    - Specific details: locations, getaway cars, police descriptions
    - Multiple choices with REAL consequences (jail, death, wealth)
    - Risk/reward system - high stakes, high rewards
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]]

local Random = Random.new()

local events = {
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- PETTY CRIME (Ages 13-25)
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

	{
		id = "petty_theft_dare",
		emoji = "ğŸ•µï¸",
		title = "Dare to Steal",
		text = "Your friends dare you to pocket a pair of $200 Beats headphones from Best Buy. Security is distracted. Cameras everywhere but they're looking at someone else. Your heart is POUNDING. Your friends are watching from outside. This is stupid. This is reckless. But you'd look like a coward if you back out now. The headphones are right there. One quick move...",
		question = "What do you do?",
		category = "crime",
		weight = 5,
		minAge = 13,
		maxAge = 25,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "DO IT - grab them and RUN!",
				effects = { Happiness = 5, Looks = -2 },
				feedText = "You grabbed them and BOLTED. Alarm went off. You ran through the parking lot. Heart racing. Youâ€”",
				onResolve = function(state)
					if Random:NextNumber() < 0.50 then
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
							state:SetFlag("caught_stealing", true)
						end
						if state.AddFeed then
							state:AddFeed("â€”got tackled by security! Police arrived. Arrested. Juvenile detention for 3 months. Your parents are FURIOUS.")
						end
						if state.Stats then
							state.Stats.Happiness = (state.Stats.Happiness or 50) - 15
						end
						-- Set jail time
						state.InJail = true
						state.JailYearsLeft = 0.25
					else
						if state.AddFeed then
							state:AddFeed("â€”got away! You're 3 blocks away. Safe. You have $200 headphones! Your friends think you're a legend. Adrenaline is INSANE.")
						end
						if state.AddMoney then
							state:AddMoney(200)
						end
						if state.SetFlag then
							state:SetFlag("has_stolen", true)
						end
					end
				end,
			},
			{
				index = 2,
				text = "Refuse the dare - walk away",
				effects = { Happiness = -3, Health = 2, Smarts = 3 },
				feedText = "You walked out empty-handed. Your friends called you a pussy. But you didn't get arrested. You're smart, not sorry.",
			},
			{
				index = 3,
				text = "Fake it - pretend you grabbed them",
				effects = { Happiness = -2 },
				feedText = "You walked out and said 'I got 'em!' but showed an empty bag. They knew you were lying. They laughed at you. Embarrassing.",
			},
			{
				index = 4,
				text = "Convince friends it's a bad idea",
				effects = { Happiness = 2, Smarts = 4 },
				setFlags = { voice_of_reason = true, leader = true },
				feedText = "'Guys, cameras are everywhere. Not worth it.' They agreed. You saved them from arrest. Leadership unlocked.",
			},
		},
	},

	{
		id = "underage_drinking_party",
		emoji = "ğŸº",
		title = "Cops Bust the Party",
		text = "You're at a house party. 60+ kids. Kegs in the basement. Red cups everywhere. Music BLASTING. Then: someone yells 'COPS!' Blue and red lights outside. Everyone SCATTERS. You're holding a beer. You're 17. You hear: 'POLICE! EVERYONE STAY WHERE YOU ARE!' People are jumping fences. Hiding in closets. Running through backyards. What do you do?",
		question = "How do you handle the cops?",
		category = "crime",
		weight = 6,
		minAge = 15,
		maxAge = 20,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "RUN - hop the back fence!",
				effects = { Happiness = 3, Health = -2 },
				feedText = "You SPRINTED to the back fence. Hopped it. Ran through 3 yards. A dog chased you. You hid in a shed for 20 minutes. You escaped! No ticket!",
			},
			{
				index = 2,
				text = "Hide inside - closet, basement, anywhere!",
				effects = { Happiness = -2 },
				feedText = "You hid in a closet with 4 other people. Silent. Barely breathing. Cops walked past. You heard radios. After 30 minutes... clear. You escaped!",
				onResolve = function(state)
					if Random:NextNumber() < 0.30 then
						if state.AddFeed then
							state:AddFeed("...Wait. A cop opened the closet. 'GOTCHA!' You got an MIP (Minor in Possession). $500 fine. Parents grounded you for 6 months.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
						end
						if state.AddMoney then
							state:AddMoney(-500)
						end
					end
				end,
			},
			{
				index = 3,
				text = "Stay put - cooperate with police",
				effects = { Happiness = -5, Smarts = 3 },
				setFlags = { rule_follower = true },
				feedText = "You stayed. Cooperated. Got an MIP ticket: $350. Court date next month. Your parents are pissed. But you did the 'right thing.'",
				onResolve = function(state)
					if state.SetFlag then
						state:SetFlag("criminal_record", true)
					end
					if state.AddMoney then
						state:AddMoney(-350)
					end
				end,
			},
			{
				index = 4,
				text = "Dump the beer and act sober",
				effects = { Happiness = 1, Smarts = 4 },
				feedText = "You dumped the beer. Washed your hands. Chewed gum. Cop asked: 'You been drinking?' 'No, officer.' He didn't believe you but had no proof. You walked.",
			},
		},
	},

	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- SERIOUS CRIME (Ages 18-40)
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

	{
		id = "white_collar_scheme",
		emoji = "ğŸ’¼",
		title = "Insider Trading Opportunity",
		text = "Your coworker at the investment firm pulls you aside. Whispers: 'PharmaTech is getting FDA approval next week. Stock's gonna EXPLODE. Buy now, sell Friday. Easy $50,000 profit.' You know this is insider trading. 100% illegal. SEC investigates this shit. People go to PRISON. But... $50,000? That's life-changing money. One trade. No one would know. Right?",
		question = "What do you do?",
		category = "crime",
		weight = 4,
		minAge = 25,
		maxAge = 50,
		requiresJob = true,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "Make the trade - $50K is worth the risk!",
				effects = { Happiness = 8 },
				feedText = "You bought 2,000 shares Monday at $18. Friday: stock hit $43. You sold. Profit: $50,000. You feel like a GENIUS. But paranoid. Very paranoid.",
				onResolve = function(state)
					if Random:NextNumber() < 0.35 then
						if state.AddFeed then
							state:AddFeed("2 months later: FBI agents knocked on your door. 'SEC investigation.' They have records. You're going to prison. 3-5 years. Your life is OVER.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
							state:SetFlag("federal_crime", true)
						end
						state.InJail = true
						state.JailYearsLeft = 3.5
					else
						if state.AddMoney then
							state:AddMoney(50000)
						end
						if state.SetFlag then
							state:SetFlag("white_collar_criminal", true)
						end
						if state.AddFeed then
							state:AddFeed("You got away with it. $50,000 richer. No one knows. But you're looking over your shoulder. Forever.")
						end
					end
				end,
			},
			{
				index = 2,
				text = "Report it to compliance/SEC",
				effects = { Happiness = 4, Smarts = 5 },
				setFlags = { whistleblower = true, ethical = true },
				feedText = "You reported it. SEC investigated. Your coworker got arrested. You're a whistleblower. Some people respect you. Others hate you. You did the right thing.",
			},
			{
				index = 3,
				text = "Decline but don't report it",
				effects = { Happiness = -2, Money = 5000 },
				feedText = "You said no. Your coworker made $80,000. He quit 2 months later. Bought a Tesla. You wonder 'what if' every single day.",
			},
			{
				index = 4,
				text = "Make a SMALLER trade - fly under the radar",
				effects = { Happiness = 6, Money = 15000 },
				setFlags = { cautious_criminal = true },
				feedText = "You bought 600 shares. Profit: $15,000. Small enough to avoid SEC attention. You got away with it. Risk managed. Criminal lite.",
			},
		},
	},

	{
		id = "drug_dealing_offer",
		emoji = "ğŸ’Š",
		title = "Your Friend Needs a 'Runner'",
		text = "Your friend deals weed. Makes $3,000/week. He needs someone to deliver product to clients. 'Just drive. Drop off packages. $500 a night. Easy money.' You need cash. Rent is due. But if you get pulled over with 2 pounds of weed in your trunk? That's 5-10 YEARS in prison. Distribution charge. Felony. Life over. But $500 a night...",
		question = "Do you take the job?",
		category = "crime",
		weight = 5,
		minAge = 18,
		maxAge = 35,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "YES - I need the money NOW",
				effects = { Happiness = 6, Money = 2000 },
				setFlags = { drug_dealer = true, criminal_lifestyle = true },
				feedText = "You did 4 runs. $2,000 cash in hand. Adrenaline is INSANE. You feel powerful. Dangerous. But also... scared. Every cop car makes your heart stop.",
				onResolve = function(state)
					if Random:NextNumber() < 0.40 then
						if state.AddFeed then
							state:AddFeed("Run #5: Cops pulled you over. K9 unit. They found EVERYTHING. Arrested. Distribution charge. 7 years in prison. Your life just imploded.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
							state:SetFlag("drug_conviction", true)
						end
						state.InJail = true
						state.JailYearsLeft = 7
					else
						if state.AddMoney then
							state:AddMoney(6000)
						end
					end
				end,
			},
			{
				index = 2,
				text = "HARD NO - not worth prison",
				effects = { Happiness = -2, Health = 3 },
				feedText = "You declined. Your friend shrugged. 'Your loss.' He found someone else. That guy got arrested 3 weeks later. You dodged a bullet.",
			},
			{
				index = 3,
				text = "Do it ONCE then quit - test the waters",
				effects = { Happiness = 4, Money = 500 },
				setFlags = { dabbled_in_crime = true },
				feedText = "You did ONE run. Made $500. It was terrifying. You told him you're out. He respected it. You got a taste. That was enough.",
			},
			{
				index = 4,
				text = "Report him to the police - be a snitch",
				effects = { Happiness = -8 },
				setFlags = { snitch = true, hated_by_friends = true },
				feedText = "You told the cops. He got raided. Arrested. 10-year sentence. He knows it was you. His crew knows. You moved cities. You're a snitch. Forever.",
			},
		},
	},

	{
		id = "convenience_store_robbery",
		emoji = "ğŸ”«",
		title = "Desperate Times, Desperate Measures",
		text = "You're BROKE. Eviction notice on your door. $0 in your account. You're walking past a convenience store at 2am. One old guy behind the counter. No customers. Security camera in the corner but it looks fake. You have a hoodie. A bandana. You COULD rob this place. Maybe $500 in the register? But armed robbery is 10-20 YEARS. Or you could get SHOT. This is insane. But you're desperate.",
		question = "What do you do?",
		category = "crime",
		weight = 3,
		minAge = 18,
		maxAge = 40,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "Rob it - you have no other choice!",
				effects = { Happiness = -10 },
				feedText = "You pulled your hoodie up. Walked in. 'GIVE ME THE MONEY!' The clerk froze. He opened the register with shaking hands. You grabbedâ€”",
				onResolve = function(state)
					if Random:NextNumber() < 0.60 then
						if state.AddFeed then
							state:AddFeed("â€”$320. You ran. The clerk hit the silent alarm. Cops found you 6 blocks away. Arrested. Armed robbery. 15 years. Your life is OVER.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
							state:SetFlag("violent_crime", true)
						end
						state.InJail = true
						state.JailYearsLeft = 15
					else
						if state.AddMoney then
							state:AddMoney(320)
						end
						if state.AddFeed then
							state:AddFeed("â€”$320 and ran. No one followed. You got away. But you're a ROBBER now. You crossed a line you can never uncross. Guilt is crushing.")
						end
						if state.SetFlag then
							state:SetFlag("robber", true)
							state:SetFlag("criminal_record", true)
						end
					end
				end,
			},
			{
				index = 2,
				text = "Walk away - find another solution",
				effects = { Happiness = -5, Health = -2 },
				feedText = "You walked past. You didn't rob it. You're homeless 2 weeks later. Sleeping in your car. But you're not a criminal. Is that better?",
			},
			{
				index = 3,
				text = "Ask the clerk for help - be honest",
				effects = { Happiness = 3, Money = 50 },
				setFlags = { humble = true, asked_for_help = true },
				feedText = "You walked in. 'I'm desperate. I need help.' The clerk gave you $50 from his own wallet. 'Get some food.' Humanity restored. Kindness exists.",
			},
			{
				index = 4,
				text = "Call a family member/friend for help",
				effects = { Happiness = -2, Money = 500 },
				setFlags = { swallowed_pride = true },
				feedText = "You called your mom. Swallowed your pride. She wired you $500. 'Come home,' she said. Sometimes asking for help is the bravest thing.",
			},
		},
	},

	{
		id = "hit_and_run_accident",
		emoji = "ğŸš—",
		title = "You Just Hit Someone's Car",
		text = "You're backing out of a parking spot. CRUNCH. You hit a parked Lexus. Hard. You get out. There's a HUGE dent in their driver's side door. $2,000+ in damage, easy. No one saw. The parking lot is empty. You could leave. Drive away. No one would know. But there's a security camera on the building. Maybe. You're not sure. Leave a note? Or flee?",
		question = "What do you do?",
		category = "crime",
		weight = 4,
		minAge = 16,
		maxAge = 50,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "Leave a note with your info - do the right thing",
				effects = { Happiness = 2, Money = -2500 },
				setFlags = { honest = true, responsible = true },
				feedText = "You left a note: 'I hit your car. I'm so sorry. Here's my info.' You paid $2,500 through insurance. Your rates went up. But you slept well. Integrity intact.",
			},
			{
				index = 2,
				text = "Drive away - no one saw!",
				effects = { Happiness = -5 },
				feedText = "You drove away. Fast. Your heart pounding. You checked your rearview 100 times. You got away with it. Probably. Hopefully. The guilt though...",
				onResolve = function(state)
					if Random:NextNumber() < 0.35 then
						if state.AddFeed then
							state:AddFeed("3 days later: Cops knocked on your door. Security footage. License plate. Hit and run charge. $5,000 fine. 6 months probation. You IDIOT.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
						end
						if state.AddMoney then
							state:AddMoney(-5000)
						end
					else
						if state.SetFlag then
							state:SetFlag("hit_and_run", true)
						end
					end
				end,
			},
			{
				index = 3,
				text = "Leave a FAKE note - look good, stay clean",
				effects = { Happiness = -3 },
				setFlags = { sneaky = true, fake_responsibility = true },
				feedText = "You left a note with a fake name and disconnected phone number. LOOKED responsible. Weren't. The person called. Voicemail full. They were PISSED. Karma incoming.",
			},
			{
				index = 4,
				text = "Report it to YOUR insurance immediately",
				effects = { Happiness = 4, Money = -500 },
				setFlags = { responsible = true, honest = true },
				feedText = "You called your insurance before the owner even saw the damage. They handled it. Your rates went up slightly. But you were proactive. Adulting done right.",
			},
		},
	},

	{
		id = "tax_fraud_temptation",
		emoji = "ğŸ“‹",
		title = "Tempted to Lie on Your Taxes",
		text = "You're doing your taxes. You made $75,000 this year. Tax bill: $12,000. Ouch. But you did some cash side jobs. Made $8,000 under the table. The IRS doesn't know about it. If you don't report it? You save $2,400 in taxes. Your friend says 'everyone does it.' But tax fraud is a FEDERAL CRIME. 5 years in prison. $250,000 fine. Is $2,400 worth that risk?",
		question = "What do you report?",
		category = "crime",
		weight = 3,
		minAge = 22,
		maxAge = 60,
		requiresJob = true,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "Report EVERYTHING - be honest",
				effects = { Happiness = 3, Money = -12000, Smarts = 4 },
				setFlags = { tax_compliant = true, law_abiding = true },
				feedText = "You reported all $83,000. Paid $14,400 in taxes. It HURT. But you sleep well. No fear of IRS audits. Clean conscience. Boring but smart.",
			},
			{
				index = 2,
				text = "Hide the cash income - don't report it",
				effects = { Happiness = 5, Money = 2400 },
				setFlags = { tax_fraud = true, criminal = true },
				feedText = "You only reported $75,000. Saved $2,400. Filed. Accepted. You got away with it! Probably. Unless you get audited. 1% chance per year. Tick tick tick...",
				onResolve = function(state)
					if Random:NextNumber() < 0.10 then
						if state.AddFeed then
							state:AddFeed("2 years later: IRS AUDIT. They found discrepancies. Back taxes + penalties: $8,000. You're fucked. Never mess with the IRS.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
						end
						if state.AddMoney then
							state:AddMoney(-8000)
						end
					end
				end,
			},
			{
				index = 3,
				text = "Report it but inflate business deductions",
				effects = { Happiness = 6, Money = 3000 },
				setFlags = { creative_accounting = true },
				feedText = "You reported the income BUT claimed $6,000 in 'business expenses' (aka bullshit). Net savings: $3,000. Gray area. Risky but common. Tax season creativity!",
			},
			{
				index = 4,
				text = "Hire a CPA - let a pro handle it",
				effects = { Happiness = 7, Money = -1000, Smarts = 3 },
				setFlags = { smart_with_money = true },
				feedText = "You hired a CPA for $1,000. They found LEGAL deductions you missed. Saved you $2,500! Paid for itself! Professionals are worth it!",
			},
		},
	},

	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- ORGANIZED CRIME (Ages 25+)
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

	{
		id = "gang_recruitment",
		emoji = "ğŸ”ª",
		title = "Gang Wants You to Join",
		text = "You've lived in this neighborhood your whole life. The gang on the corner knows you. Respects you. They just approached you: 'We need someone smart. Someone reliable. Join us. $5,000/month. Protection. Family.' You know what they do. Violence. Drugs. Guns. But they RUN this neighborhood. Your little brother looks up to you. What example do you set?",
		question = "Do you join the gang?",
		category = "crime",
		weight = 4,
		minAge = 16,
		maxAge = 30,
		blockedByFlags = { in_prison = true, gang_member = true },
		choices = {
			{
				index = 1,
				text = "Join the gang - accept the offer",
				effects = { Happiness = 8, Money = 5000, Health = -5 },
				setFlags = { gang_member = true, criminal_lifestyle = true, respect_in_streets = true },
				feedText = "You joined. Got jumped in (beaten by 5 guys for 30 seconds). You're in. You have brothers now. Money. Respect. But enemies too. Dangerous life ahead.",
			},
			{
				index = 2,
				text = "Decline respectfully - 'Not for me'",
				effects = { Happiness = -2, Health = 2 },
				setFlags = { declined_gang = true, walking_line = true },
				feedText = "You declined. They respected it. 'Alright, man. Stay safe.' You're neutral. Not in, not against. Walking a thin line. Hope it holds.",
			},
			{
				index = 3,
				text = "Move out of the neighborhood - escape",
				effects = { Happiness = 5, Money = -5000 },
				setFlags = { escaped_hood = true, fresh_start = true },
				feedText = "You packed up. Moved to a different city. Started over. Your friends think you abandoned them. But you're ALIVE. And free. Sometimes leaving is winning.",
			},
			{
				index = 4,
				text = "Report them to police - be a hero",
				effects = { Happiness = -15, Health = -10 },
				setFlags = { snitch = true, marked_for_death = true },
				feedText = "You told the cops EVERYTHING. Raids happened. Arrests. They KNOW it was you. You're marked. You have to move. Change your name. Live in fear. Forever. Was it worth it?",
			},
		},
	},

	{
		id = "money_laundering_scheme",
		emoji = "ğŸ’µ",
		title = "Clean Dirty Money for $20K",
		text = "Your cousin runs a car wash. It's a front. He launders money for local criminals. $500,000/month in cash goes through. He needs help. 'Run the register. Make the books look legit. $20,000 cash. One month. Easy.' Money laundering is 20 YEARS federal time. But $20K for sitting at a register? You'd be an accessory. Complicit. A criminal. But that money...",
		question = "Do you take the job?",
		category = "crime",
		weight = 3,
		minAge = 23,
		maxAge = 45,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "YES - $20K for one month? DONE.",
				effects = { Happiness = 10, Money = 20000 },
				setFlags = { money_launderer = true, dirty_money = true },
				feedText = "You worked the car wash for 30 days. Faked receipts. Logged fake transactions. Got paid $20,000 CASH. You did it. You're a criminal now. A rich one. For now.",
				onResolve = function(state)
					if Random:NextNumber() < 0.25 then
						if state.AddFeed then
							state:AddFeed("6 months later: FBI RAID. They've been watching for MONTHS. Everyone arrested. Money laundering. 15-year sentence. Your life is DESTROYED.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
							state:SetFlag("federal_crime", true)
						end
						state.InJail = true
						state.JailYearsLeft = 15
					end
				end,
			},
			{
				index = 2,
				text = "HARD NO - don't involve me",
				effects = { Happiness = -3, Money = 2000 },
				feedText = "You declined. Your cousin shrugged. 'Your loss.' 8 months later: FBI raided the place. Everyone got 10-20 years. You dodged a BULLET.",
			},
			{
				index = 3,
				text = "Report it to the FBI - be a whistleblower",
				effects = { Happiness = -8 },
				setFlags = { whistleblower = true, witness_protection = true },
				feedText = "You called the FBI. Wore a wire. Testified. Your cousin got 18 years. Your family disowned you. You're in witness protection. New name. New city. Alone. Forever.",
			},
			{
				index = 4,
				text = "Negotiate for MORE money - $40K or no deal",
				effects = { Happiness = 8, Money = 40000 },
				setFlags = { money_launderer = true, greedy = true },
				feedText = "You said $40K or you walk. He laughed. 'Ballsy. I like it. Deal.' You made $40,000 in one month. You're ALL IN now. No turning back.",
			},
		},
	},

	{
		id = "bank_heist_opportunity",
		emoji = "ğŸ¦",
		title = "Your Friend Planned a Bank Heist",
		text = "Your friend from college is now... different. He just pitched you a BANK HEIST. 'Small regional bank. Security is a joke. We need a driver. In and out. 3 minutes. Split: $250,000 EACH.' He has blueprints. Masks. A plan. This is Ocean's Eleven shit. But this is REAL. Armed bank robbery is 25 YEARS TO LIFE. People get SHOT. This is insane. But... $250,000?",
		question = "What do you do?",
		category = "crime",
		weight = 2,
		minAge = 25,
		maxAge = 45,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "I'm IN - let's do this!",
				effects = { Happiness = 15, Money = 250000 },
				setFlags = { bank_robber = true, wanted = true },
				feedText = "You drove. They went in. Alarms blared. They came out running. Bags of cash. You FLOORED IT. Police chase. Helicopters. Youâ€”",
				onResolve = function(state)
					if Random:NextNumber() < 0.70 then
						if state.AddFeed then
							state:AddFeed("â€”got caught 12 miles away. Roadblock. Arrested. Federal charges. Armed bank robbery. 25 YEARS. Your life is OVER. You're going to die in prison.")
						end
						if state.SetFlag then
							state:SetFlag("criminal_record", true)
							state:SetFlag("federal_crime", true)
							state:SetFlag("violent_crime", true)
						end
						state.InJail = true
						state.JailYearsLeft = 25
					else
						if state.AddMoney then
							state:AddMoney(250000)
						end
						if state.AddFeed then
							state:AddFeed("â€”escaped! You ditched the car. Split up. You're $250,000 richer. But the FBI is looking. Forever. You can never relax. Ever. You're a fugitive.")
						end
						if state.SetFlag then
							state:SetFlag("fugitive", true)
							state:SetFlag("bank_robber", true)
						end
					end
				end,
			},
			{
				index = 2,
				text = "ABSOLUTELY NOT - are you insane?!",
				effects = { Happiness = 2, Health = 5 },
				feedText = "You walked out. 'You're crazy. Don't contact me again.' He did it anyway. Got caught. 30-year sentence. You saved your life by saying no.",
			},
			{
				index = 3,
				text = "Report him to the FBI - stop this",
				effects = { Happiness = -6 },
				setFlags = { snitch = true, betrayed_friend = true },
				feedText = "You called the FBI. They arrested him the night before the heist. He KNOWS you snitched. His crew knows. You betrayed your friend. Was it right? You'll never know.",
			},
			{
				index = 4,
				text = "Pretend to agree then disappear",
				effects = { Happiness = -4 },
				setFlags = { coward = true },
				feedText = "You said yes but blocked his number. Moved cities. Didn't show up. He did it without you. Got caught. Life sentence. You ran. You're a coward. But alive.",
			},
		},
	},

	{
		id = "witness_to_murder",
		emoji = "ğŸ‘ï¸",
		title = "You Witnessed a Murder",
		text = "You were walking home at 2am. You turned the corner. You SAW IT. A guy shot another guy in the chest. TWICE. The victim collapsed. Dead. The shooter looked at you. Made EYE CONTACT. He RAN. You're the only witness. Police arrived. 'Did you see anything?' If you testify, the killer goes away. But his gang might kill YOU. Witness intimidation is real. People DIE for talking. Do you speak up?",
		question = "What do you tell the police?",
		category = "crime",
		weight = 2,
		minAge = 18,
		maxAge = 60,
		blockedByFlags = { in_prison = true },
		choices = {
			{
				index = 1,
				text = "Tell the truth - testify in court",
				effects = { Happiness = -10, Health = -8 },
				setFlags = { witness = true, in_danger = true, brave = true },
				feedText = "You testified. The killer got life. His crew sent threats. 'We know where you live.' You're in witness protection now. New name. New city. You did the right thing. But at what cost?",
			},
			{
				index = 2,
				text = "'I didn't see anything' - lie",
				effects = { Happiness = -8 },
				setFlags = { liar = true, coward = true, guilty_conscience = true },
				feedText = "You lied. 'I didn't see anything, officer.' The case went cold. The killer is FREE. That victim had a family. You could've helped. You didn't. Guilt follows you. Forever.",
			},
			{
				index = 3,
				text = "Give a vague description - half-truth",
				effects = { Happiness = -5 },
				setFlags = { compromised_witness = true },
				feedText = "You gave a partial description. Enough to seem helpful, not enough to be useful. Case went nowhere. You played it safe. The killer is still out there. You sleep... okay-ish.",
			},
			{
				index = 4,
				text = "Anonymous tip - don't get involved directly",
				effects = { Happiness = -3, Smarts = 3 },
				setFlags = { anonymous_hero = true },
				feedText = "You called Crime Stoppers. Anonymous tip. No name. Described the killer. Led to his arrest! You helped without putting yourself in danger. Smart move.",
			},
		},
	},
}

return events
